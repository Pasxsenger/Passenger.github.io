<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>TOEFL-Writing-Business and Economy</title>
      <link href="/2019/11/11/TOEFL-Writing-Business-and-Economy/"/>
      <url>/2019/11/11/TOEFL-Writing-Business-and-Economy/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script>]]></content>
      
      
      <categories>
          
          <category> TOEFL </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Writing </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>TOEFL-Writing-Science and Technology</title>
      <link href="/2019/11/11/TOEFL-Writing-Science-and-Technology/"/>
      <url>/2019/11/11/TOEFL-Writing-Science-and-Technology/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="Expressions"><a href="#Expressions" class="headerlink" title="Expressions:"></a>Expressions:</h3><table><thead><tr><th>科技进步</th><th>scientific and technological advance/progress</th></tr></thead><tbody><tr><td>科技创新</td><td>technological innovations</td></tr><tr><td>彻底改变了</td><td>overhaul/change sth radically   revolutionize</td></tr><tr><td>越来越流行</td><td>an increasing popularity of/increasing popular</td></tr><tr><td>信息时代</td><td>the Information Age/Era</td></tr><tr><td>信息爆炸</td><td>information explosion/overload</td></tr><tr><td>互联网的广泛使用</td><td>the extensive use of/the widespread use/proliferation of the Internet</td></tr><tr><td>社交网络/网站</td><td>social networking/social networking websites</td></tr><tr><td>促进交流</td><td>promote/facilitate communication</td></tr><tr><td>获取更多信息</td><td>have/gain more access to information</td></tr><tr><td>减少人力的机器</td><td>labor-saving machinery</td></tr><tr><td>代替人力的机器</td><td>labor-replacing machinery</td></tr><tr><td>鼠标一点</td><td>with the click of a mouse</td></tr><tr><td>键盘一敲</td><td>with the click on the keyboard</td></tr><tr><td>地理上的阻碍</td><td>geographical barrier</td></tr><tr><td>以惊人的速度</td><td>at an astonishing/lightning-fast rate/speed/pace</td></tr><tr><td>提高效率或生产率</td><td>enhance/boost/improve efficiency/productivity</td></tr><tr><td>网络犯罪</td><td>cyber crime</td></tr><tr><td>安全问题</td><td>security issue</td></tr><tr><td>侵犯某人隐私</td><td>violate/intrude/invade one’s privacy</td></tr><tr><td>身份盗窃或盗用</td><td>identity theft</td></tr><tr><td>剽窃</td><td>pirate/plagiarize</td></tr><tr><td>盗版的</td><td>pirated</td></tr><tr><td>视力的减弱</td><td>weakened eyesight/visual impairment</td></tr><tr><td>沉溺于或迷失于虚拟世界</td><td>indulge in/be lost in a virtual world</td></tr><tr><td>游离于现实世界之外</td><td>be isolated from the real world</td></tr><tr><td>削弱与家人、朋友的关系</td><td>weaken/distance the relationship with family and friends   alienate them from family and friends</td></tr><tr><td>性格变得孤僻</td><td>become solitary</td></tr></tbody></table><h3 id="Substitution"><a href="#Substitution" class="headerlink" title="Substitution:"></a>Substitution:</h3><table><thead><tr><th>general</th><th>substitutive</th></tr></thead><tbody><tr><td>development</td><td>advance</td></tr><tr><td>appearance</td><td>advent/emergence</td></tr><tr><td>使用</td><td>have (equal/free/immediate) access to</td></tr><tr><td>随着……的广泛应用</td><td>as sth use worldwide explodes</td></tr></tbody></table><h3 id="Sentences"><a href="#Sentences" class="headerlink" title="Sentences:"></a>Sentences:</h3>]]></content>
      
      
      <categories>
          
          <category> TOEFL </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Writing </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>TOEFL-Writing-Health and Environment</title>
      <link href="/2019/11/11/TOEFL-Writing-Health-and-Environment/"/>
      <url>/2019/11/11/TOEFL-Writing-Health-and-Environment/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script>]]></content>
      
      
      <categories>
          
          <category> TOEFL </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Writing </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>TOEFL-Writing-School and Education</title>
      <link href="/2019/11/10/TOEFL-Writing-School%20and%20Education/"/>
      <url>/2019/11/10/TOEFL-Writing-School%20and%20Education/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="Expressions"><a href="#Expressions" class="headerlink" title="Expressions:"></a>Expressions:</h3><table><thead><tr><th><strong>教育目的（对个人）</strong></th><th></th></tr></thead><tbody><tr><td><strong>1.德</strong>：提高道德标准</td><td>raise moral code/standards</td></tr><tr><td>成为好的社会成员</td><td>be a valuable/active social member</td></tr><tr><td>道德准则</td><td>a strong moral code</td></tr><tr><td>承担责任</td><td>assume/shoulder the responsibility to do</td></tr><tr><td>与他人合作</td><td>cooperate with others</td></tr><tr><td>价值体系</td><td>value system</td></tr><tr><td>遵纪守法</td><td>observe disciplines and obey laws</td></tr><tr><td>社区观念</td><td>sense of community</td></tr><tr><td>辨别是非</td><td>distinguish between right and wrong</td></tr><tr><td>团队精神</td><td>team spirit</td></tr><tr><td><strong>2.智</strong>：理论知识+分析问题的能力</td><td>theoretical/academic knowledge + analyzing skills</td></tr><tr><td>独立和批判思考</td><td>independent and critical thinking</td></tr><tr><td>人际交往能力</td><td>interpersonal skills</td></tr><tr><td>领导力</td><td>leadership skills</td></tr><tr><td>组织能力</td><td>organizing skills</td></tr><tr><td>坚实的理论基础</td><td>a solid foundation in basics</td></tr><tr><td>动手操作的经验</td><td>hands-on experience</td></tr><tr><td>一手知识</td><td>first-hand knowledge</td></tr><tr><td>二手知识</td><td>second-hand knowledge</td></tr><tr><td>培养学生的竞争意识</td><td>cultivate/nurture a sense of competition <strong>in</strong> students</td></tr><tr><td>获得知识/技能</td><td>acquire/obtain knowledge/skills</td></tr><tr><td><strong>3.体</strong>：身体健康+心理健康+养成良好的生活习惯</td><td>physical fitness/well-being</td></tr><tr><td>饮食健康</td><td>wholesome diet</td></tr><tr><td>强制的</td><td>compulsory</td></tr><tr><td>久坐的生活习惯</td><td>sedentary lifestyle</td></tr><tr><td>激发对体育的兴趣</td><td>stimulate students’ interests in sports</td></tr><tr><td><strong>4.美</strong>：提升审美水平+文化修养</td><td>appreciation of Arts and Literature</td></tr><tr><td>自信</td><td>self-confidence</td></tr><tr><td>自律</td><td>self-discipline</td></tr><tr><td>自尊</td><td>self-esteem</td></tr><tr><td>自我培养</td><td>self-cultivation</td></tr><tr><td>内在动力</td><td>inner-motivation</td></tr><tr><td>毅力</td><td>persistence/perseverance/grit</td></tr><tr><td><strong>5.劳</strong>：就业</td><td>obtain employment</td></tr><tr><td>合格的员工</td><td>a qualified employee</td></tr><tr><td>找工作</td><td>seek for employment</td></tr><tr><td>找一个好工作</td><td>find a decent job</td></tr><tr><td>找一份高薪的工作</td><td>find a well-paid job</td></tr><tr><td>找一份满意的工作</td><td>find a satisfying/satisfactory job</td></tr><tr><td>工作技能</td><td>employability skills</td></tr><tr><td>职业前景</td><td>career prospect</td></tr><tr><td>全面的</td><td>all-rounded/well-rounded</td></tr><tr><td>谋生</td><td>seek a livelihood</td></tr><tr><td>实习生</td><td>intern</td></tr><tr><td>实习</td><td>internship</td></tr><tr><td>职业道德</td><td>work ethics</td></tr><tr><td>就业率/失业率</td><td>employment/unemployment rate</td></tr><tr><td><strong>教育目的（对社会）</strong></td><td></td></tr><tr><td>提高就业率</td><td>improve employment rate</td></tr><tr><td>促进经济发展</td><td>boost economy</td></tr><tr><td>维护社会稳定</td><td>stabilize the society</td></tr><tr><td></td><td></td></tr><tr><td><strong>Other useful expressions</strong></td><td></td></tr><tr><td>高等教育</td><td>tertiary education            secondary primary/elementary</td></tr><tr><td>义务教育</td><td>compulsory education</td></tr><tr><td>全面发展</td><td>rounded development</td></tr><tr><td>课程</td><td>courses/take a course in</td></tr><tr><td>学科</td><td>subject/discipline</td></tr><tr><td>家长对小孩的教育</td><td>parenting    domestic/family education      home schooling(家庭学校)</td></tr><tr><td>学校对学生的教育</td><td>schooling</td></tr><tr><td>反馈</td><td>feedback</td></tr><tr><td>捣乱的学生</td><td>disruptive students</td></tr><tr><td>课程大纲</td><td>curriculum</td></tr><tr><td>应试教育</td><td>test-oriented education</td></tr><tr><td>死记硬背</td><td>learn by rote/cram/spoon-feeding</td></tr><tr><td>学位工厂</td><td>degree factory</td></tr><tr><td>学校是社会的一个缩影</td><td>a school is a society in miniature</td></tr><tr><td>双语的/多语的</td><td>bilingual/multilingual</td></tr><tr><td>以学生为中心的</td><td>learner-oriented</td></tr><tr><td>拖延症</td><td>procrastination</td></tr><tr><td>心理学文凭</td><td>a diploma in psychology</td></tr></tbody></table><h3 id="Words-and-Expressions"><a href="#Words-and-Expressions" class="headerlink" title="Words and Expressions:"></a>Words and Expressions:</h3><table><thead><tr><th align="left">Chinese</th><th>Expression</th><th>Example</th></tr></thead><tbody><tr><td align="left">从日常生活中学到</td><td>gain from daily life</td><td>We can gain lots of knowledge, at least the common sense, from our daily life.</td></tr><tr><td align="left">竞争力在于</td><td>competitive edge lies in</td><td>Her competitive edge lies in the name of her university, which is the Peking University.</td></tr><tr><td align="left">仅仅只是</td><td>nothing but</td><td>Her stare betrayed nothing but muddle and inattention.</td></tr><tr><td align="left">击成碎片</td><td>smash into pieces</td><td>This overwhelming project smashed her into pieces.</td></tr><tr><td align="left">假装看不到</td><td>turn a blind eye to</td><td>They would even turn a blind eye to an old granny who falls down on the road crying out loud for help.</td></tr><tr><td align="left">由他们自己决定</td><td>at their own discretion</td><td>This is a decision students should make at their own discretion.</td></tr><tr><td align="left">有责任</td><td>be obligatory</td><td>It is obligatory for all staff in the lab to wear protective clothing.</td></tr><tr><td align="left">回想，回顾</td><td>reflect on</td><td>The old man reflected on the changes that had taken place since his youth.</td></tr><tr><td align="left">放弃</td><td>let go of</td><td>We can never let go of our responsibilities.</td></tr></tbody></table><h3 id="Sentences"><a href="#Sentences" class="headerlink" title="Sentences:"></a>Sentences:</h3><p>1.学校是应该教授更多的学术知识还是实用技能一直是一个有争议的问题。</p><p>It remains an controversial issue that schools are supposed to teach more theoretical knowledge or practical skills.</p><p>2.有些学生不想上学，因为他们感到来自同龄人的压力。</p><p>Some students don’t want to go to school, because they feel the stress from their peers.</p><p>3.老师应该鼓励学生用辩证的眼光看问题。</p><p>Teachers should encourage students to consider problems with dialectical view.</p><p>4.除了学习成绩，大学应该重视培养学生解决问题的能力、组织能力和人际交流能力。</p><p>Except for academic grades, college should pay attention to cultivate problem-solving, organizing and interpersonal skills.</p><h3 id="Practice："><a href="#Practice：" class="headerlink" title="Practice："></a>Practice：</h3><p>Which one of the reason is most important in helping students to study in colleges and universities?</p><p>A. Having access to the university tutors who can provide individual instruction for the students who have difficulty in study.</p><p>B. Having the help and encouragement from the family and friends.</p><p>C. Having excellent teachers in high-school who can help the students before the university.</p><p>Use you OWN words to illustrate your point. Don’t use your memorized examples.(300 words)</p><p>During <strong>the university</strong>, students <strong>are supposed to</strong> enrich their knowledge constantly <strong>and be successful in their academic field</strong>. However, students are <strong>less likely</strong> <strong>to achieve rounded development</strong> on their own. This is the reason why undergraduates need others’ help. When thinking about who plays the most important role in helping students to study in universities, different people have different ideas. While some people may believe it is family and friends,  <strong>and</strong> some consider it is high-school teachers, I think it is university tutors <strong>who is key</strong>.</p><p>Firstly, university tutors are helpful in <strong>professional academic research</strong>. When students have difficulty in study, tutors can provide individual instruction. Since they have already studied this field for a long time. As for me, I major in computer science. When I have problems with programming, my tutor always proposes more accurate and comprehensible solutions patiently <strong>than mine</strong>. And I can learn programming <strong>thinking pattern</strong> from her suggestions. Thanks to her, I am familiar with programming <strong>and find it interesting</strong> now.</p><p>Furthermore, tutors can broaden students’ professional horizon. Tutors may teach basic knowledge in the major, but what they are digging into is probably the most advanced in the field. Knowing any of those will be valuable for students. For example, I used to help my tutor who teaches machine learning with some <strong>additional</strong> jobs in his digital vein comparison project based on neutral network. My team members and I compared more than 70,000 digital vein images with our own naked eye. This seemingly boring task made  me understand the boredom behind scientific research, so that I can be better prepared for it in the future.</p><p>In conclusion, I really believe university tutors have a vital role to play <strong>in terms of helping us succeed in our university</strong>. With tutors help, students can not only <strong>acquire</strong> the knowledge which they are required to study at the moment, but also extend their vision to a further place in the professional field. This is why I support having access to the university tutors <strong>instead of seeking help from family, friends or high-school teachers</strong>.</p>]]></content>
      
      
      <categories>
          
          <category> TOEFL </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Writing </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PTA(Advanced Level) 1003 Emergency</title>
      <link href="/2019/11/09/PTA-Advanced-Level-1003-Emergency/"/>
      <url>/2019/11/09/PTA-Advanced-Level-1003-Emergency/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>As an emergency rescue team leader of a city, you are given a special map of your country. The map shows several scattered cities connected by some roads. Amount of rescue teams in each city and the length of each road between any pair of cities are marked on the map. When there is an emergency call to you from some other city, your job is to lead your men to the place as quickly as possible, and at the mean time, call up as many hands on the way as possible.</p><h3 id="Input-Specification"><a href="#Input-Specification" class="headerlink" title="Input Specification:"></a>Input Specification:</h3><p>Each input file contains one test case. For each test case, the first line contains 4 positive integers: <em>N</em> (≤500) - the number of cities (and the cities are numbered from 0 to <em>N</em>−1), <em>M</em> - the number of roads, <em>C</em>1 and <em>C</em>2 - the cities that you are currently in and that you must save, respectively. The next line contains <em>N</em> integers, where the <em>i</em>-th integer is the number of rescue teams in the <em>i</em>-th city. Then <em>M</em> lines follow, each describes a road with three integers <em>c</em>1, <em>c</em>2 and <em>L</em>, which are the pair of cities connected by a road and the length of that road, respectively. It is guaranteed that there exists at least one path from <em>C</em>1 to <em>C</em>2.</p><h3 id="Output-Specification"><a href="#Output-Specification" class="headerlink" title="Output Specification:"></a>Output Specification:</h3><p>For each test case, print in one line two numbers: the number of different shortest paths between <em>C</em>1 and <em>C</em>2, and the maximum amount of rescue teams you can possibly gather. All the numbers in a line must be separated by exactly one space, and there is no extra space allowed at the end of a line.</p><h3 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input:"></a>Sample Input:</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">5 6 0 2</span><br><span class="line">1 2 1 5 3</span><br><span class="line">0 1 1</span><br><span class="line">0 2 2</span><br><span class="line">0 3 1</span><br><span class="line">1 2 1</span><br><span class="line">2 4 1</span><br><span class="line">3 4 1</span><br></pre></td></tr></table></figure><h3 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output:"></a>Sample Output:</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">2 4</span><br></pre></td></tr></table></figure><h3 id="Solution"><a href="#Solution" class="headerlink" title="Solution:"></a>Solution:</h3><p>注意：</p><p>1.题目要求的是最短路的条数而不是长度</p><p>2.memset的用法：将每个字节赋相同值（0x）</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 99999</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> Ncity 501</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> Nroad 10000</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> rescue[Ncity], <span class="built_in">map</span>[Ncity][Ncity], dis[Nroad], vis[Ncity] = &#123; <span class="number">0</span> &#125;, maxteam[Ncity], way[Ncity];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> N, M, C1, C2;</span><br><span class="line"><span class="keyword">int</span> i, j, k, u, minn;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d%d%d%d"</span>, &amp;N, &amp;M, &amp;C1, &amp;C2);</span><br><span class="line"></span><br><span class="line"><span class="comment">//memset(map, INF, sizeof(map));//初始化地图</span></span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; N; i++) &#123;</span><br><span class="line"><span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; N; j++) &#123;</span><br><span class="line"><span class="built_in">map</span>[i][j] = INF;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; N; i++)<span class="comment">//输入各城市救援队数量</span></span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;rescue[i]);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; M; i++) &#123;<span class="comment">//输入路径</span></span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;j, &amp;k);</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;<span class="built_in">map</span>[j][k]);</span><br><span class="line"><span class="built_in">map</span>[k][j] = <span class="built_in">map</span>[j][k];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; N; i++) &#123;</span><br><span class="line">dis[i] = <span class="built_in">map</span>[C1][i];</span><br><span class="line">maxteam[i] = rescue[i];</span><br><span class="line">way[i] = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">if</span> (dis[i] != INF &amp;&amp; i != C1) &#123;</span><br><span class="line">maxteam[i] += rescue[C1];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">vis[C1] = <span class="number">1</span>;<span class="comment">//标记起点</span></span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">1</span>; i &lt; N; i++) &#123;<span class="comment">//Dijkstra</span></span><br><span class="line">minn = INF;</span><br><span class="line"><span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; N; j++) &#123;</span><br><span class="line"><span class="keyword">if</span> (vis[j] == <span class="number">0</span> &amp;&amp; dis[j] &lt; minn) &#123;</span><br><span class="line">minn = dis[j];</span><br><span class="line">u = j;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">vis[u] = <span class="number">1</span>;<span class="comment">//标记u</span></span><br><span class="line"><span class="keyword">for</span> (k = <span class="number">0</span>; k &lt; N; k++) &#123;<span class="comment">//松弛u</span></span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">map</span>[u][k] &lt; INF &amp;&amp; vis[k] == <span class="number">0</span>) &#123;<span class="comment">//沿着一条路走</span></span><br><span class="line"><span class="keyword">if</span> (dis[k] &gt; dis[u] + <span class="built_in">map</span>[u][k]) &#123;</span><br><span class="line">dis[k] = dis[u] + <span class="built_in">map</span>[u][k];</span><br><span class="line">maxteam[k] = maxteam[u] + rescue[k];</span><br><span class="line">way[k] = way[u];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (dis[k] == dis[u] + <span class="built_in">map</span>[u][k]) &#123;<span class="comment">//出现了另一条路</span></span><br><span class="line">way[k] += way[u];</span><br><span class="line"><span class="keyword">if</span> (maxteam[k] &lt; maxteam[u] + rescue[k]) &#123;</span><br><span class="line">maxteam[k] = maxteam[u] + rescue[k];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d %d"</span>, way[C2], maxteam[C2]);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> PAT </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Advanced Level </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PTA(Advanced Level) 1002 A+B for Polynomials</title>
      <link href="/2019/11/08/PTA-Advanced-Level-1002-A-B-for-Polynomials/"/>
      <url>/2019/11/08/PTA-Advanced-Level-1002-A-B-for-Polynomials/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>This time, you are supposed to find <em>A</em>+<em>B</em> where <em>A</em> and <em>B</em> are two polynomials.</p><h3 id="Input-Specification"><a href="#Input-Specification" class="headerlink" title="Input Specification:"></a>Input Specification:</h3><p>Each input file contains one test case. Each case occupies 2 lines, and each line contains the information of a polynomial:</p><p><em>K</em>  <em>N1</em> <em>aN1</em> <em>N2</em> <em>aN2</em> … <em>NK</em> <em>aNK</em></p><p>where <em>K</em> is the number of nonzero terms in the polynomial, <em>Ni</em> and <em>aNi</em> (<em>i</em>=1,2,⋯,<em>K</em>) are the exponents and coefficients, respectively. It is given that 1≤<em>K</em>≤10，0≤<em>NK</em>&lt;⋯&lt;<em>N</em>2&lt;<em>N</em>1≤1000.</p><h3 id="Output-Specification"><a href="#Output-Specification" class="headerlink" title="Output Specification:"></a>Output Specification:</h3><p>For each test case you should output the sum of <em>A</em> and <em>B</em> in one line, with the same format as the input. Notice that there must be NO extra space at the end of each line. Please be accurate to 1 decimal place.</p><h3 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input:"></a>Sample Input:</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">2 1 2.4 0 3.2</span><br><span class="line">2 2 1.5 1 0.5</span><br></pre></td></tr></table></figure><h3 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output:"></a>Sample Output:</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">3 2 1.5 1 2.9 0 3.2</span><br></pre></td></tr></table></figure><h3 id="Solution"><a href="#Solution" class="headerlink" title="Solution:"></a>Solution:</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> a, k;</span><br><span class="line"><span class="keyword">double</span> b, n[<span class="number">1010</span>] = &#123; <span class="number">0</span> &#125;;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">2</span>; i++) &#123;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;k);</span><br><span class="line"><span class="keyword">while</span> (k--) &#123;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d%lf"</span>, &amp;a, &amp;b);</span><br><span class="line">n[a] += b;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> maxx, cnt = <span class="number">0</span>;<span class="comment">//记录最大的N</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">1010</span>; i++) &#123;</span><br><span class="line"><span class="keyword">if</span> (n[i]) &#123;</span><br><span class="line">cnt++;</span><br><span class="line">maxx = i;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d"</span>, cnt);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = maxx; i &gt;= <span class="number">0</span>; i--)</span><br><span class="line"><span class="keyword">if</span> (n[i])</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">" %d %.1lf"</span>, i, n[i]);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> PAT </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Advanced Level </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>数据库实验六</title>
      <link href="/2019/11/06/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AE%9E%E9%AA%8C%E5%85%AD/"/>
      <url>/2019/11/06/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AE%9E%E9%AA%8C%E5%85%AD/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--以系统管理员身份登录到SQL Server服务器，并使用T-SQL语句实现以下操作：</span></span><br><span class="line"><span class="keyword">use</span> student</span><br><span class="line"><span class="comment">--1.将stu数据库中student表的sno定义为主键；</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> student</span><br><span class="line"><span class="keyword">add</span> primary <span class="keyword">key</span>(sno)</span><br><span class="line"></span><br><span class="line"><span class="comment">--2.将数据库stu的表course的cno字段定义为主键，约束名称为cno_pk;</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> course</span><br><span class="line"><span class="keyword">add</span> <span class="keyword">constraint</span> cno_pk</span><br><span class="line">primary <span class="keyword">key</span>(cno)</span><br><span class="line"></span><br><span class="line"><span class="comment">--3.为表course中的字段cname添加唯一值约束；</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> course</span><br><span class="line"><span class="keyword">add</span> <span class="keyword">constraint</span> cname_uq</span><br><span class="line"><span class="keyword">unique</span>(cname)</span><br><span class="line"></span><br><span class="line"><span class="comment">--4.将数据库stu的表sc的sno及cno字段组合定义为主键，约束名称为sc_pk;</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> sc</span><br><span class="line"><span class="keyword">add</span> <span class="keyword">constraint</span> sc_pk</span><br><span class="line">primary <span class="keyword">key</span>(sno,cno)</span><br><span class="line"></span><br><span class="line"><span class="comment">--5.对于数据表sc的sno、cno字段定义为外码，使之与表student的主码sno及表course的主码cno对应，实现如下参照完整性：</span></span><br><span class="line"><span class="comment">--1)删除student表中记录的同时删除sc表中与该记录sno字段值相同的记录；</span></span><br><span class="line"><span class="comment">--2)修改student表某记录的sno时，若sc表中与该字段值对应的有若干条记录，则拒绝修改；</span></span><br><span class="line"><span class="comment">--3)修改course表cno字段值时，该字段在sc表中的对应值也应修改；</span></span><br><span class="line"><span class="comment">--4)删除course表一条记录时，若该字段在在sc表中存在，则删除该字段对应的记录；</span></span><br><span class="line"><span class="comment">--5)向sc表添加记录时，如果该记录的sno字段的值在student中不存在，则拒绝插入；</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> sc</span><br><span class="line"><span class="keyword">add</span> <span class="keyword">constraint</span> sc_fk <span class="keyword">foreign</span> <span class="keyword">key</span> (sno) <span class="keyword">references</span> student(sno) <span class="keyword">on</span> <span class="keyword">delete</span> <span class="keyword">cascade</span> <span class="keyword">on</span> <span class="keyword">update</span> <span class="keyword">no</span> <span class="keyword">action</span>,</span><br><span class="line"> <span class="keyword">foreign</span> <span class="keyword">key</span> (cno) <span class="keyword">references</span> course(cno)  <span class="keyword">on</span> <span class="keyword">delete</span> <span class="keyword">cascade</span> <span class="keyword">on</span> <span class="keyword">update</span> <span class="keyword">cascade</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--6.定义check约束，要求学生学号sno必须为9位数字字符，且不能以0开头，第二三位皆为0；</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> student</span><br><span class="line"><span class="keyword">add</span> <span class="keyword">constraint</span> sno_ck</span><br><span class="line"><span class="keyword">check</span>(sno <span class="keyword">like</span> <span class="string">'[1-9]00[0-9][0-9][0-9][0-9][0-9][0-9]'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">--7.定义stu数据库中student表中学生年龄值在16-25范围内；</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> student</span><br><span class="line"><span class="keyword">add</span> <span class="keyword">constraint</span> sage_ck</span><br><span class="line"><span class="keyword">check</span>(sage <span class="keyword">between</span> <span class="number">16</span> <span class="keyword">and</span> <span class="number">25</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">--8.定义stu数据库中student表中学生姓名长度在2-8之间；</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> student</span><br><span class="line"><span class="keyword">add</span> <span class="keyword">constraint</span> sname_ck</span><br><span class="line"><span class="keyword">check</span>(sname <span class="keyword">like</span> <span class="string">'__'</span>|<span class="string">'___'</span>|<span class="string">'____'</span>|<span class="string">'_____'</span>|<span class="string">'______'</span>|<span class="string">'_______'</span>|<span class="string">'________'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">--9.定义stu数据库中student表中学生性别列中只能输入“男”或“女”；</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> student</span><br><span class="line"><span class="keyword">add</span> <span class="keyword">constraint</span> ssex_ck</span><br><span class="line"><span class="keyword">check</span>(ssex <span class="keyword">in</span> (<span class="string">'男'</span>,<span class="string">'女'</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">--10.定义stu数据库student表中学生年龄值默认值为20；</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> student</span><br><span class="line"><span class="keyword">add</span> <span class="keyword">constraint</span> sage_df</span><br><span class="line"><span class="keyword">default</span> <span class="number">20</span> <span class="keyword">for</span> sage</span><br><span class="line"></span><br><span class="line"><span class="comment">--11.修改student表学生的年龄值约束可以为15-30范围内；</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> student</span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">constraint</span> sage_ck</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> student</span><br><span class="line"><span class="keyword">add</span> <span class="keyword">constraint</span> sage_ck</span><br><span class="line"><span class="keyword">check</span>(sage <span class="keyword">between</span> <span class="number">15</span> <span class="keyword">and</span> <span class="number">30</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">--12.删除上述唯一值约束、外键约束及check约束；</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> course</span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">constraint</span> cname_uq</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> sc</span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">constraint</span> sc_fk</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> student</span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">constraint</span> sno_ck,sname_ck,ssex_ck,sage_ck</span><br><span class="line"></span><br><span class="line"><span class="keyword">use</span> xsgl</span><br><span class="line"><span class="comment">--13.设计触发器实现如果一个学生转专业了，那么输出一条信息显示该学生各门课程的平均分。</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">trigger</span> dept_ch</span><br><span class="line"><span class="keyword">on</span> xs</span><br><span class="line"><span class="keyword">for</span> <span class="keyword">update</span></span><br><span class="line"><span class="keyword">as</span></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">update</span>(专业)</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line"><span class="keyword">select</span> cj.学号,<span class="keyword">avg</span>(成绩)</span><br><span class="line"><span class="keyword">from</span> cj,inserted</span><br><span class="line"><span class="keyword">where</span> cj.学号 = inserted.学号</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> cj.学号</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">update</span> xs</span><br><span class="line"><span class="keyword">set</span> xs.专业 = <span class="string">'信息管理'</span></span><br><span class="line"><span class="keyword">where</span> xs.学号 = <span class="string">'2006030101'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--14.设计触发器实现如果成绩被修改了20分以上，则输出提示信息“修改成绩超过20分，请慎重”。</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">trigger</span> grade_ck_tg</span><br><span class="line"><span class="keyword">on</span> cj</span><br><span class="line"><span class="keyword">after</span> <span class="keyword">update</span></span><br><span class="line"><span class="keyword">as</span></span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line"><span class="keyword">declare</span> @pregrade <span class="built_in">numeric</span>(<span class="number">18</span>,<span class="number">0</span>),@aftgrade <span class="built_in">numeric</span>(<span class="number">18</span>,<span class="number">0</span>)</span><br><span class="line"><span class="keyword">select</span> @pregrade = 成绩 <span class="keyword">from</span> inserted</span><br><span class="line"><span class="keyword">select</span> @aftgrade = 成绩 <span class="keyword">from</span> deleted</span><br><span class="line"><span class="keyword">if</span>((@pregrade-@aftgrade)&gt;<span class="number">20</span> <span class="keyword">or</span> (@aftgrade-@pregrade)&gt;<span class="number">20</span>)</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">print<span class="string">'修改成绩超过20分，请慎重'</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">update</span> cj</span><br><span class="line"><span class="keyword">set</span> cj.成绩 = <span class="number">89</span></span><br><span class="line"><span class="keyword">where</span> cj.学号 = <span class="string">'2006030101'</span> <span class="keyword">and</span> cj.课程号 = <span class="string">'A001'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--15.在student表中增加一列total,表示学生选课总门数，初始值为0。</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> xs</span><br><span class="line"><span class="keyword">add</span> total <span class="built_in">int</span> <span class="keyword">default</span> <span class="number">0</span></span><br><span class="line"><span class="comment">--定义一个触发器，实现如下完整性约束：当向SC表插入选课记录时，自动更新student表对应学号的total值,考虑成批插入数据的情况。</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">trigger</span> sc_insert</span><br><span class="line"><span class="keyword">on</span> cj</span><br><span class="line"><span class="keyword">after</span> <span class="keyword">insert</span></span><br><span class="line"><span class="keyword">as</span></span><br><span class="line"><span class="keyword">declare</span> @total <span class="built_in">int</span></span><br><span class="line"><span class="keyword">select</span> @total = total <span class="keyword">from</span> xs</span><br><span class="line"><span class="keyword">update</span> xs</span><br><span class="line"><span class="keyword">set</span> total = @total+<span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--16.设计一触发器，约束数据库系统课程的课容量为120。</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">trigger</span> contain</span><br><span class="line"><span class="keyword">on</span> cj</span><br><span class="line"><span class="keyword">for</span> <span class="keyword">insert</span>,<span class="keyword">update</span></span><br><span class="line"><span class="keyword">as</span></span><br><span class="line"><span class="keyword">declare</span> @<span class="keyword">num</span> <span class="built_in">int</span></span><br><span class="line"><span class="keyword">select</span> @<span class="keyword">num</span> = <span class="keyword">count</span>(*) <span class="keyword">from</span> deleted,kc <span class="keyword">where</span> deleted.课程号 = kc.课程号 <span class="keyword">and</span> kc.课程名=<span class="string">'数据库系统'</span></span><br><span class="line"><span class="keyword">if</span> @<span class="keyword">num</span> &gt; <span class="number">120</span></span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line"><span class="keyword">rollback</span> <span class="keyword">transaction</span></span><br><span class="line">print<span class="string">'数据库课程人数已满'</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--17.设有两个表：商品库存表（商品编号，商品名称，库存数量，库存单价，库存金额）；商品销售表（商品编号，商品名称，购货商号，销售数量，销售单价，销售金额）；设计一触发器实现如下业务规则：</span></span><br><span class="line"><span class="comment">--（1）保证在商品库存表中插入的数据，库存金额 = 库存数量 * 库存单价。</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">trigger</span> insert_商品库存表  </span><br><span class="line"><span class="keyword">on</span> 商品库存表  </span><br><span class="line"><span class="keyword">for</span> <span class="keyword">insert</span> </span><br><span class="line"><span class="keyword">as</span>  </span><br><span class="line"><span class="keyword">update</span> 商品库存表  </span><br><span class="line"><span class="keyword">set</span> 库存金额 = 库存数量 * 库存单价  </span><br><span class="line"><span class="keyword">where</span> 商品编号 <span class="keyword">in</span> (<span class="keyword">select</span> 商品编号 <span class="keyword">from</span> inserted)</span><br><span class="line"></span><br><span class="line"><span class="comment">--（2）如果销售的商品不存在库存或者库存为零，则返回提示信息。否则自动减少商品库存表中对应商品的库存数量和库存金额。</span></span><br><span class="line"><span class="comment">--建表并验证触发器的执行。</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">trigger</span> insert_商品销售表 </span><br><span class="line"><span class="keyword">on</span> 商品销售表 </span><br><span class="line"><span class="keyword">for</span> <span class="keyword">insert</span> </span><br><span class="line"><span class="keyword">as</span> </span><br><span class="line"><span class="keyword">begin</span> <span class="keyword">transaction</span> </span><br><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> <span class="keyword">exists</span> ( </span><br><span class="line"><span class="keyword">select</span> 库存数量 </span><br><span class="line"><span class="keyword">from</span> 商品库存表 </span><br><span class="line"><span class="keyword">where</span> 商品编号 <span class="keyword">in</span> (<span class="keyword">select</span> 商品编号 <span class="keyword">from</span> inserted) ) </span><br><span class="line"><span class="keyword">begin</span> </span><br><span class="line">raiseerror(<span class="string">'错误！该商品不存在库存，不能销售！'</span>,<span class="number">16</span>,<span class="number">1</span>) </span><br><span class="line"><span class="keyword">rollback</span> </span><br><span class="line"><span class="keyword">return</span></span><br><span class="line"><span class="keyword">end</span> </span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">exists</span> ( </span><br><span class="line"><span class="keyword">select</span> 库存数量 </span><br><span class="line"><span class="keyword">from</span> 商品库存表 </span><br><span class="line"><span class="keyword">where</span> 商品编号 <span class="keyword">in</span> (<span class="keyword">select</span> 商品编号 <span class="keyword">from</span> inserted) <span class="keyword">and</span> 库存数量 &lt;= <span class="number">0</span> ) </span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">raiseerror(<span class="string">'错误！该商品库存小于等于0，不能销售!'</span>,<span class="number">16</span>,<span class="number">1</span>) </span><br><span class="line"><span class="keyword">rollback</span></span><br><span class="line"><span class="keyword">return</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--18．建立教师表（教工编号，姓名，专业，职称，工资）和工资变化表（教工编号，原工资，新工资）</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> teacher(</span><br><span class="line">tno <span class="built_in">char</span>(<span class="number">10</span>) primary <span class="keyword">key</span>,</span><br><span class="line">tname <span class="keyword">nchar</span>(<span class="number">10</span>),</span><br><span class="line">tdept <span class="built_in">char</span>(<span class="number">16</span>),</span><br><span class="line">tpro <span class="built_in">char</span>(<span class="number">10</span>),</span><br><span class="line">tsala money</span><br><span class="line">)</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> sala_change(</span><br><span class="line">tno <span class="built_in">char</span>(<span class="number">10</span>),</span><br><span class="line">tpresala money,</span><br><span class="line">taftsala money</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">--设计触发器实现教授的工资不得低于4000元，如果低于4000元则自动改为4000元。</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">trigger</span> sala_tg</span><br><span class="line"><span class="keyword">on</span> teacher</span><br><span class="line"><span class="keyword">for</span> <span class="keyword">update</span>,<span class="keyword">insert</span></span><br><span class="line"><span class="keyword">as</span></span><br><span class="line"><span class="keyword">declare</span> @sala money</span><br><span class="line"><span class="keyword">select</span> @sala = tsala <span class="keyword">from</span> teacher</span><br><span class="line"><span class="keyword">if</span> @sala &lt; <span class="number">4000</span></span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line"><span class="keyword">update</span> teacher</span><br><span class="line"><span class="keyword">set</span> tsala = <span class="number">4000</span></span><br><span class="line"><span class="keyword">update</span> sala_change</span><br><span class="line"><span class="keyword">set</span> taftsala = <span class="number">4000</span>,tpresala = @sala</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--19.使用第18题的两个表设计触发器实现如果教工的工资发生变化则向工资变化表插入一条记录，包含教工编号，原工资，新工资。</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">trigger</span> insert_if_change</span><br><span class="line"><span class="keyword">on</span> teacher</span><br><span class="line"><span class="keyword">for</span> <span class="keyword">update</span></span><br><span class="line"><span class="keyword">as</span></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">update</span>(tsala)</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line"><span class="keyword">declare</span> @tno <span class="built_in">char</span>(<span class="number">10</span>),@tpresala money,@taftsala money</span><br><span class="line"><span class="keyword">select</span> @tno = tno <span class="keyword">from</span> teacher</span><br><span class="line"><span class="keyword">select</span> @tpresala = tsala <span class="keyword">from</span> deleted</span><br><span class="line"><span class="keyword">select</span> @taftsala = tsala <span class="keyword">from</span> inserted</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> sala_change</span><br><span class="line"><span class="keyword">values</span>(@tno,@tpresala,@taftsala)</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Data Base Management System </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Data Base </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SQL Server 数据类型</title>
      <link href="/2019/11/05/SQL-Server-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/"/>
      <url>/2019/11/05/SQL-Server-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="Character-字符串："><a href="#Character-字符串：" class="headerlink" title="Character 字符串："></a>Character 字符串：</h3><table><thead><tr><th align="left">数据类型</th><th align="left">描述</th><th align="left">存储</th></tr></thead><tbody><tr><td align="left">char(n)</td><td align="left">固定长度的字符串。最多 8,000 个字符。</td><td align="left">n</td></tr><tr><td align="left">varchar(n)</td><td align="left">可变长度的字符串。最多 8,000 个字符。</td><td align="left"></td></tr><tr><td align="left">varchar(max)</td><td align="left">可变长度的字符串。最多 1,073,741,824 个字符。</td><td align="left"></td></tr><tr><td align="left">text</td><td align="left">可变长度的字符串。最多 2GB 字符数据。</td><td align="left"></td></tr></tbody></table><h3 id="Unicode-字符串："><a href="#Unicode-字符串：" class="headerlink" title="Unicode 字符串："></a>Unicode 字符串：</h3><table><thead><tr><th align="left">数据类型</th><th align="left">描述</th><th align="left">存储</th></tr></thead><tbody><tr><td align="left">nchar(n)</td><td align="left">固定长度的 Unicode 数据。最多 4,000 个字符。</td><td align="left"></td></tr><tr><td align="left">nvarchar(n)</td><td align="left">可变长度的 Unicode 数据。最多 4,000 个字符。</td><td align="left"></td></tr><tr><td align="left">nvarchar(max)</td><td align="left">可变长度的 Unicode 数据。最多 536,870,912 个字符。</td><td align="left"></td></tr><tr><td align="left">ntext</td><td align="left">可变长度的 Unicode 数据。最多 2GB 字符数据。</td><td align="left"></td></tr></tbody></table><h3 id="Binary-类型："><a href="#Binary-类型：" class="headerlink" title="Binary 类型："></a>Binary 类型：</h3><table><thead><tr><th align="left">数据类型</th><th align="left">描述</th><th align="left">存储</th></tr></thead><tbody><tr><td align="left">bit</td><td align="left">允许 0、1 或 NULL</td><td align="left"></td></tr><tr><td align="left">binary(n)</td><td align="left">固定长度的二进制数据。最多 8,000 字节。</td><td align="left"></td></tr><tr><td align="left">varbinary(n)</td><td align="left">可变长度的二进制数据。最多 8,000 字节。</td><td align="left"></td></tr><tr><td align="left">varbinary(max)</td><td align="left">可变长度的二进制数据。最多 2GB 字节。</td><td align="left"></td></tr><tr><td align="left">image</td><td align="left">可变长度的二进制数据。最多 2GB。</td><td align="left"></td></tr></tbody></table><h3 id="Number-类型："><a href="#Number-类型：" class="headerlink" title="Number 类型："></a>Number 类型：</h3><table><thead><tr><th align="left">数据类型</th><th align="left">描述</th><th align="left">存储</th></tr></thead><tbody><tr><td align="left">tinyint</td><td align="left">允许从 0 到 255 的所有数字。</td><td align="left">1 字节</td></tr><tr><td align="left">smallint</td><td align="left">允许从 -32,768 到 32,767 的所有数字。</td><td align="left">2 字节</td></tr><tr><td align="left">int</td><td align="left">允许从 -2,147,483,648 到 2,147,483,647 的所有数字。</td><td align="left">4 字节</td></tr><tr><td align="left">bigint</td><td align="left">允许介于 -9,223,372,036,854,775,808 和 9,223,372,036,854,775,807 之间的所有数字。</td><td align="left">8 字节</td></tr><tr><td align="left">decimal(p,s)</td><td align="left">固定精度和比例的数字。允许从 -10^38 +1 到 10^38 -1 之间的数字。p 参数指示可以存储的最大位数（小数点左侧和右侧）。p 必须是 1 到 38 之间的值。默认是 18。s 参数指示小数点右侧存储的最大位数。s 必须是 0 到 p 之间的值。默认是 0。</td><td align="left">5-17 字节</td></tr><tr><td align="left">numeric(p,s)</td><td align="left">固定精度和比例的数字。允许从 -10^38 +1 到 10^38 -1 之间的数字。p 参数指示可以存储的最大位数（小数点左侧和右侧）。p 必须是 1 到 38 之间的值。默认是 18。s 参数指示小数点右侧存储的最大位数。s 必须是 0 到 p 之间的值。默认是 0。</td><td align="left">5-17 字节</td></tr><tr><td align="left">smallmoney</td><td align="left">介于 -214,748.3648 和 214,748.3647 之间的货币数据。</td><td align="left">4 字节</td></tr><tr><td align="left">money</td><td align="left">介于 -922,337,203,685,477.5808 和 922,337,203,685,477.5807 之间的货币数据。</td><td align="left">8 字节</td></tr><tr><td align="left">float(n)</td><td align="left">从 -1.79E + 308 到 1.79E + 308 的浮动精度数字数据。 参数 n 指示该字段保存 4 字节还是 8 字节。float(24) 保存 4 字节，而 float(53) 保存 8 字节。n 的默认值是 53。</td><td align="left">4 或 8 字节</td></tr><tr><td align="left">real</td><td align="left">从 -3.40E + 38 到 3.40E + 38 的浮动精度数字数据。</td><td align="left">4 字节</td></tr></tbody></table><h3 id="Date-类型："><a href="#Date-类型：" class="headerlink" title="Date 类型："></a>Date 类型：</h3><table><thead><tr><th align="left">数据类型</th><th align="left">描述</th><th align="left">存储</th></tr></thead><tbody><tr><td align="left">datetime</td><td align="left">从 1753 年 1 月 1 日 到 9999 年 12 月 31 日，精度为 3.33 毫秒。</td><td align="left">8 bytes</td></tr><tr><td align="left">datetime2</td><td align="left">从 1753 年 1 月 1 日 到 9999 年 12 月 31 日，精度为 100 纳秒。</td><td align="left">6-8 bytes</td></tr><tr><td align="left">smalldatetime</td><td align="left">从 1900 年 1 月 1 日 到 2079 年 6 月 6 日，精度为 1 分钟。</td><td align="left">4 bytes</td></tr><tr><td align="left">date</td><td align="left">仅存储日期。从 0001 年 1 月 1 日 到 9999 年 12 月 31 日。</td><td align="left">3 bytes</td></tr><tr><td align="left">time</td><td align="left">仅存储时间。精度为 100 纳秒。</td><td align="left">3-5 bytes</td></tr><tr><td align="left">datetimeoffset</td><td align="left">与 datetime2 相同，外加时区偏移。</td><td align="left">8-10 bytes</td></tr><tr><td align="left">timestamp</td><td align="left">存储唯一的数字，每当创建或修改某行时，该数字会更新。timestamp 基于内部时钟，不对应真实时间。每个表只能有一个 timestamp 变量。</td><td align="left"></td></tr></tbody></table><h3 id="其他数据类型："><a href="#其他数据类型：" class="headerlink" title="其他数据类型："></a>其他数据类型：</h3><table><thead><tr><th align="left">数据类型</th><th align="left">描述</th></tr></thead><tbody><tr><td align="left">sql_variant</td><td align="left">存储最多 8,000 字节不同数据类型的数据，除了 text、ntext 以及 timestamp。</td></tr><tr><td align="left">uniqueidentifier</td><td align="left">存储全局标识符 (GUID)。</td></tr><tr><td align="left">xml</td><td align="left">存储 XML 格式化数据。最多 2GB。</td></tr><tr><td align="left">cursor</td><td align="left">存储对用于数据库操作的指针的引用。</td></tr><tr><td align="left">table</td><td align="left">存储结果集，供稍后处理。</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> Data Base Management System </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Data Base </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>数据结构实验五</title>
      <link href="/2019/11/04/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%AE%9E%E9%AA%8C%E4%BA%94/"/>
      <url>/2019/11/04/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%AE%9E%E9%AA%8C%E4%BA%94/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h1><h3 id="1-二叉树的创建（顺序存储-amp-链式存储）"><a href="#1-二叉树的创建（顺序存储-amp-链式存储）" class="headerlink" title="1.二叉树的创建（顺序存储&amp;链式存储）"></a>1.二叉树的创建（顺序存储&amp;链式存储）</h3><h3 id="2-进行先序或中序或后序遍历"><a href="#2-进行先序或中序或后序遍历" class="headerlink" title="2.进行先序或中序或后序遍历"></a>2.进行先序或中序或后序遍历</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//二叉树顺序存储</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAX_TREE_SIZE 100</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">int</span> TElemType;</span><br><span class="line">TElemType Nil = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">typedef</span> TElemType SqBiTree[MAX_TREE_SIZE];</span><br><span class="line">SqBiTree bt;</span><br><span class="line"><span class="keyword">int</span> SqBiTree_Len;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">InitSqBiTree</span><span class="params">(SqBiTree &amp;bt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; MAX_TREE_SIZE; i++)</span><br><span class="line">bt[i] = Nil;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"二叉树顺序初始化完毕\n"</span>);</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">CreateSqBiTree</span><span class="params">(SqBiTree &amp;bt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"请输入结点个数（小于%d）\n"</span>, MAX_TREE_SIZE);</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;SqBiTree_Len);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"请输入各结点的值（非零），空结点输入零，两结点之间用空格分开\n"</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; SqBiTree_Len; i++) &#123;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;bt[i]);</span><br><span class="line"><span class="keyword">if</span> (i != <span class="number">0</span> &amp;&amp; bt[(i + <span class="number">1</span>) / <span class="number">2</span> - <span class="number">1</span>] == Nil &amp;&amp; bt[i] != Nil) &#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"无双亲的非根节点,顺序存储失败！\n"</span>);</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"二叉树顺序存储成功\n"</span>);</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">SqPreOrderTraverse</span><span class="params">(SqBiTree bt,<span class="keyword">int</span> i)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span> (bt[i - <span class="number">1</span>] != <span class="number">0</span>) &#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d "</span>, bt[i - <span class="number">1</span>]);</span><br><span class="line">SqPreOrderTraverse(bt, i * <span class="number">2</span>);</span><br><span class="line">SqPreOrderTraverse(bt, i * <span class="number">2</span> + <span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//二叉树链式存储</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">enum</span> PointerTag &#123; Link, Thread &#125;;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">BiThrNode</span> &#123;</span></span><br><span class="line">TElemType data;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">BiThrNode</span> *<span class="title">lchild</span>, *<span class="title">rchild</span>;</span></span><br><span class="line">PointerTag LTag, RTag;</span><br><span class="line">&#125;BiThrNode, *BiThrTree;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">CreateThrBiTree</span><span class="params">(BiThrTree &amp;T)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">char</span> ch;</span><br><span class="line"><span class="built_in">cin</span> &gt;&gt; ch;</span><br><span class="line"><span class="comment">//scanf("%c", &amp;ch);</span></span><br><span class="line"><span class="keyword">if</span> (ch == <span class="string">'#'</span>) </span><br><span class="line">T = <span class="literal">NULL</span>;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">T = (BiThrNode*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(BiThrNode));</span><br><span class="line">T-&gt;data = ch - <span class="string">'0'</span>;</span><br><span class="line">CreateThrBiTree(T-&gt;lchild);</span><br><span class="line">CreateThrBiTree(T-&gt;rchild);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">ThrPreOrderTraverse</span><span class="params">(BiThrNode* T)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span> (T != <span class="literal">NULL</span>) &#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d "</span>, T-&gt;data);</span><br><span class="line">ThrPreOrderTraverse(T-&gt;lchild);</span><br><span class="line">ThrPreOrderTraverse(T-&gt;rchild);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">InitSqBiTree(bt);</span><br><span class="line">CreateSqBiTree(bt);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"先序遍历顺序二叉树结果为："</span>);</span><br><span class="line">SqPreOrderTraverse(bt, <span class="number">1</span>);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"\n\n"</span>);</span><br><span class="line"></span><br><span class="line">BiThrTree T;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"请输入结点内容，空结点则输入#\n"</span>);</span><br><span class="line">CreateThrBiTree(T);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"先序遍历链式二叉树结果为："</span>);</span><br><span class="line">ThrPreOrderTraverse(T);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="运行界面"><a href="#运行界面" class="headerlink" title="运行界面"></a>运行界面</h3><p><img alt="sy" data-src="https://s2.ax1x.com/2019/11/04/Kzt6ED.png" class="lazyload"></p>]]></content>
      
      
      <categories>
          
          <category> Algorithms and Data Structures </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Data Structure Experiment </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>一行 Python 代码能实现什么丧心病狂的功能？</title>
      <link href="/2019/11/04/%E4%B8%80%E8%A1%8C-Python-%E4%BB%A3%E7%A0%81%E8%83%BD%E5%AE%9E%E7%8E%B0%E4%BB%80%E4%B9%88%E4%B8%A7%E5%BF%83%E7%97%85%E7%8B%82%E7%9A%84%E5%8A%9F%E8%83%BD%EF%BC%9F/"/>
      <url>/2019/11/04/%E4%B8%80%E8%A1%8C-Python-%E4%BB%A3%E7%A0%81%E8%83%BD%E5%AE%9E%E7%8E%B0%E4%BB%80%E4%B9%88%E4%B8%A7%E5%BF%83%E7%97%85%E7%8B%82%E7%9A%84%E5%8A%9F%E8%83%BD%EF%BC%9F/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="1-一行代码打印乘法口诀"><a href="#1-一行代码打印乘法口诀" class="headerlink" title="1.一行代码打印乘法口诀"></a>1.一行代码打印乘法口诀</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">'\n'</span>.join([<span class="string">' '</span>.join([<span class="string">"%2s x%2s = %2s"</span>%(j,i,i*j) <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">1</span>,i+<span class="number">1</span>)]) <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>,<span class="number">10</span>)]))</span><br></pre></td></tr></table></figure><p><img alt="20190719141327674" data-src="https://s2.ax1x.com/2019/11/04/KzQjit.png" class="lazyload"></p><h2 id="2-一行代码打印迷宫"><a href="#2-一行代码打印迷宫" class="headerlink" title="2.一行代码打印迷宫"></a>2.一行代码打印迷宫</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">''</span>.join(__import__(<span class="string">'random'</span>).choice(<span class="string">'\u2571\u2572'</span>) <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">50</span>*<span class="number">24</span>)))</span><br></pre></td></tr></table></figure><p><img alt="20190719104644249" data-src="https://s2.ax1x.com/2019/11/04/KzlJW6.png" class="lazyload"></p><h2 id="3-一行代码（土味）表白"><a href="#3-一行代码（土味）表白" class="headerlink" title="3.一行代码（土味）表白"></a>3.一行代码（土味）表白</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">'\n'</span>.join([<span class="string">''</span>.join([(<span class="string">'Love'</span>[(x-y) % len(<span class="string">'Love'</span>)] <span class="keyword">if</span> ((x*<span class="number">0.05</span>)**<span class="number">2</span>+(y*<span class="number">0.1</span>)**<span class="number">2</span><span class="number">-1</span>)**<span class="number">3</span>-(x*<span class="number">0.05</span>)**<span class="number">2</span>*(y*<span class="number">0.1</span>)**<span class="number">3</span> &lt;= <span class="number">0</span><span class="keyword">else</span><span class="string">' '</span>) <span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">-30</span>, <span class="number">30</span>)]) <span class="keyword">for</span> y <span class="keyword">in</span> range(<span class="number">30</span>, <span class="number">-30</span>, <span class="number">-1</span>)]))</span><br></pre></td></tr></table></figure><p><img alt="20190719104826750" data-src="https://s2.ax1x.com/2019/11/04/Kz1eAA.png" class="lazyload"></p><h2 id="4-一行代码打印龟龟（-滑稽）"><a href="#4-一行代码打印龟龟（-滑稽）" class="headerlink" title="4.一行代码打印龟龟（/滑稽）"></a>4.一行代码打印龟龟（/滑稽）</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">'\n'</span>.join([<span class="string">''</span>.join([<span class="string">'*'</span> <span class="keyword">if</span> abs((<span class="keyword">lambda</span> a:<span class="keyword">lambda</span> z,c,n:a(a,z,c,n))(<span class="keyword">lambda</span> s,z,c,n:z <span class="keyword">if</span> n==<span class="number">0</span> <span class="keyword">else</span> s(s,z*z+c,c,n<span class="number">-1</span>))(<span class="number">0</span>,<span class="number">0.02</span>*x+<span class="number">0.05j</span>*y,<span class="number">40</span>))&lt;<span class="number">2</span> <span class="keyword">else</span> <span class="string">' '</span> <span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">-80</span>,<span class="number">20</span>)]) <span class="keyword">for</span> y <span class="keyword">in</span> range(<span class="number">-20</span>,<span class="number">20</span>)]))</span><br></pre></td></tr></table></figure><p><img alt="20190719105008201" data-src="https://s2.ax1x.com/2019/11/04/Kz1DuF.png" class="lazyload"></p>]]></content>
      
      
      <categories>
          
          <category> Language </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python十大装B语法</title>
      <link href="/2019/11/04/Python%E5%8D%81%E5%A4%A7%E8%A3%85B%E8%AF%AD%E6%B3%95/"/>
      <url>/2019/11/04/Python%E5%8D%81%E5%A4%A7%E8%A3%85B%E8%AF%AD%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="Python-是一种代表简单思想的语言，其语法相对简单，很容易上手。不过，如果就此小视-Python-语法的精妙和深邃，那就大错特错了。本文精心筛选了最能展现-Python-语法之精妙的十个知识点，并附上详细的实例代码。如能在实战中融会贯通、灵活使用，必将使代码更为精炼、高效，同时也会极大提升代码B格，使之看上去更老练，读起来更优雅。"><a href="#Python-是一种代表简单思想的语言，其语法相对简单，很容易上手。不过，如果就此小视-Python-语法的精妙和深邃，那就大错特错了。本文精心筛选了最能展现-Python-语法之精妙的十个知识点，并附上详细的实例代码。如能在实战中融会贯通、灵活使用，必将使代码更为精炼、高效，同时也会极大提升代码B格，使之看上去更老练，读起来更优雅。" class="headerlink" title="Python 是一种代表简单思想的语言，其语法相对简单，很容易上手。不过，如果就此小视 Python 语法的精妙和深邃，那就大错特错了。本文精心筛选了最能展现 Python 语法之精妙的十个知识点，并附上详细的实例代码。如能在实战中融会贯通、灵活使用，必将使代码更为精炼、高效，同时也会极大提升代码B格，使之看上去更老练，读起来更优雅。"></a>Python 是一种代表简单思想的语言，其语法相对简单，很容易上手。不过，如果就此小视 Python 语法的精妙和深邃，那就大错特错了。本文精心筛选了最能展现 Python 语法之精妙的十个知识点，并附上详细的实例代码。如能在实战中融会贯通、灵活使用，必将使代码更为精炼、高效，同时也会极大提升代码B格，使之看上去更老练，读起来更优雅。</h3><h2 id="1-for-else"><a href="#1-for-else" class="headerlink" title="1.for-else"></a>1.for-else</h2><p>什么？不是 if 和 else 才是原配吗？No，你可能不知道，else 是个脚踩两只船的家伙，for 和 else 也是一对，而且是合法的。十大装B语法，for-else 绝对算得上南无湾！不信，请看：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> i <span class="keyword">in</span> [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]:</span><br><span class="line">    print(i)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    print(i, <span class="string">'我是else'</span>)</span><br><span class="line"></span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="number">4</span></span><br><span class="line"><span class="number">4</span> 我是<span class="keyword">else</span></span><br></pre></td></tr></table></figure><p>如果在 for 和 else 之间（循环体内）有第三者 if 插足，也不会影响 for 和 else 的关系。因为 for 的级别比 if 高，else 又是一个攀附权贵的家伙，根本不在乎是否有 if，以及是否执行了满足 if 条件的语句。else 的眼里只有 for，只要 for 顺利执行完毕，else 就会屁颠儿屁颠儿地跑一遍：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> i <span class="keyword">in</span> [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]:</span><br><span class="line">    <span class="keyword">if</span> i &gt; <span class="number">2</span>:</span><br><span class="line">        print(i)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    print(i, <span class="string">'我是else'</span>)</span><br><span class="line"></span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="number">4</span></span><br><span class="line"><span class="number">4</span> 我是<span class="keyword">else</span></span><br></pre></td></tr></table></figure><p>那么，如何拆散 for 和 else 这对冤家呢？只有当 for 循环被 break 语句中断之后，才会跳过 else 语句：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> i <span class="keyword">in</span> [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]:</span><br><span class="line">    <span class="keyword">if</span> i&gt;<span class="number">2</span>:</span><br><span class="line">        print(i)</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    print(i, <span class="string">'我是else'</span>)</span><br><span class="line"></span><br><span class="line"><span class="number">3</span></span><br></pre></td></tr></table></figure><h2 id="2-一颗星-和两颗星"><a href="#2-一颗星-和两颗星" class="headerlink" title="2.一颗星()和两颗星(*)"></a>2.一颗星()和两颗星(*)</h2><p>有没有发现，星(*)真是一个神奇的符号！想一想，没有它，C语言还有啥好玩的？同样，因为有它，Python 才会如此的仪态万方、风姿绰约、楚楚动人！Python 函数支持默认参数和可变参数，一颗星表示不限数量的单值参数，两颗星表示不限数量的键值对参数。</p><p>我们还是举例说明吧：设计一个函数，返回多个输入数值的和。我们固然可以把这些输入数值做成一个list传给函数，但这个方法，远没有使用一颗星的可变参数来得优雅：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="function"><span class="keyword">def</span> <span class="title">multi_sum</span><span class="params">(*args)</span>:</span></span><br><span class="line">    s = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> item <span class="keyword">in</span> args:</span><br><span class="line">        s += item</span><br><span class="line">    <span class="keyword">return</span> s</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>multi_sum(<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>)</span><br><span class="line"><span class="number">12</span></span><br></pre></td></tr></table></figure><p>Python 函数允许同时全部或部分使用固定参数、默认参数、单值（一颗星）可变参数、键值对（两颗星）可变参数，使用时必须按照前述顺序书写。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="function"><span class="keyword">def</span> <span class="title">do_something</span><span class="params">(name, age, gender=<span class="string">'男'</span>, *args, **kwds)</span>:</span></span><br><span class="line">    print(<span class="string">'姓名：%s，年龄：%d，性别：%s'</span>%(name, age, gender))</span><br><span class="line">    print(args)</span><br><span class="line">    print(kwds)</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>do_something(<span class="string">'xufive'</span>, <span class="number">50</span>, <span class="string">'男'</span>, <span class="number">175</span>, <span class="number">75</span>, math=<span class="number">99</span>, english=<span class="number">90</span>)</span><br><span class="line">姓名：xufive，年龄：<span class="number">50</span>，性别：男</span><br><span class="line">(<span class="number">175</span>, <span class="number">75</span>)</span><br><span class="line">&#123;<span class="string">'math'</span>: <span class="number">99</span>, <span class="string">'english'</span>: <span class="number">90</span>&#125;</span><br></pre></td></tr></table></figure><h2 id="3-三元表达式"><a href="#3-三元表达式" class="headerlink" title="3.三元表达式"></a>3.三元表达式</h2><p>熟悉 C/C++ 的程序员，初上手 python 时，一定会怀念经典的三元操作符，因为想表达同样的思想，用python 写起来似乎更麻烦。比如：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>y = <span class="number">5</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">if</span> y &lt; <span class="number">0</span>:</span><br><span class="line">    print(<span class="string">'y是一个负数'</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    print(<span class="string">'y是一个非负数'</span>)</span><br><span class="line"></span><br><span class="line">y是一个非负数</span><br></pre></td></tr></table></figure><p>其实，python 是支持三元表达式的，只是稍微怪异了一点，类似于我们山东人讲话。比如，山东人最喜欢用倒装句：打球去吧，要是不下雨的话；下雨，咱就去自习室。翻译成三元表达式就是：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">打球去吧 <span class="keyword">if</span> 不下雨 <span class="keyword">else</span> 去自习室</span><br></pre></td></tr></table></figure><p>来看看三元表达式具体的使用：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>y = <span class="number">5</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">'y是一个负数'</span> <span class="keyword">if</span> y &lt; <span class="number">0</span> <span class="keyword">else</span> <span class="string">'y是一个非负数'</span>)</span><br><span class="line">y是一个非负数</span><br></pre></td></tr></table></figure><p>python 的三元表达式也可以用来赋值：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>y = <span class="number">5</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x = <span class="number">-1</span> <span class="keyword">if</span> y &lt; <span class="number">0</span> <span class="keyword">else</span> <span class="number">1</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure><h2 id="4-with-as"><a href="#4-with-as" class="headerlink" title="4.with-as"></a>4.with-as</h2><p>with 这个词儿，英文里面不难翻译，但在 Python 语法中怎么翻译，我还真想不出来，大致上是一种上下文管理协议。作为初学者，不用关注 with 的各种方法以及机制如何，只需要了解它的应用场景就可以了。with 语句适合一些事先需要准备，事后需要处理的任务，比如，文件操作，需要先打开文件，操作完成后需要关闭文件。如果不使用with，文件操作通常得这样：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">fp = open(<span class="string">r"D:\CSDN\Column\temp\mpmap.py"</span>, <span class="string">'r'</span>)</span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    contents = fp.readlines()</span><br><span class="line"><span class="keyword">finally</span>:</span><br><span class="line">    fp.close()</span><br></pre></td></tr></table></figure><p>如果使用 with - as，那就优雅多了：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">with</span> open(<span class="string">r"D:\CSDN\Column\temp\mpmap.py"</span>, <span class="string">'r'</span>) <span class="keyword">as</span> fp:</span><br><span class="line">    contents = fp.readlines()</span><br></pre></td></tr></table></figure><h2 id="5-列表推导式"><a href="#5-列表推导式" class="headerlink" title="5.列表推导式"></a>5.列表推导式</h2><p>在各种稀奇古怪的语法中，列表推导式的使用频率应该时最高的，对于代码的简化效果也非常明显。比如，求列表各元素的平方，通常应该这样写（当然也有其他写法，比如使用map函数）：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>result = list()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> i <span class="keyword">in</span> a:</span><br><span class="line">    result.append(i*i)</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>result</span><br><span class="line">[<span class="number">1</span>, <span class="number">4</span>, <span class="number">9</span>, <span class="number">16</span>, <span class="number">25</span>]</span><br></pre></td></tr></table></figure><p>如果使用列表推导式，看起来就舒服多了：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>result = [i*i <span class="keyword">for</span> i <span class="keyword">in</span> a]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>result</span><br><span class="line">[<span class="number">1</span>, <span class="number">4</span>, <span class="number">9</span>, <span class="number">16</span>, <span class="number">25</span>]</span><br></pre></td></tr></table></figure><p>事实上，推导式不仅支持列表，也支持字典、集合、元组等对象。有一篇博文《<a href="https://pasxsenger.com/2019/11/04/%E4%B8%80%E8%A1%8C-Python-%E4%BB%A3%E7%A0%81%E8%83%BD%E5%AE%9E%E7%8E%B0%E4%BB%80%E4%B9%88%E4%B8%A7%E5%BF%83%E7%97%85%E7%8B%82%E7%9A%84%E5%8A%9F%E8%83%BD%EF%BC%9F/" target="_blank" rel="noopener">一行 Python 代码能实现什么丧心病狂的功能？</a>》，里面的例子，都是列表推导式实现的。</p><h2 id="6-列表索引的各种骚操作"><a href="#6-列表索引的各种骚操作" class="headerlink" title="6.列表索引的各种骚操作"></a>6.列表索引的各种骚操作</h2><p>Python 引入负整数作为数组的索引，这绝对是喜大普奔之举。想想看，在C/C++中，想要数组最后一个元素，得先取得数组长度，减一之后做索引，严重影响了思维的连贯性。Python语言之所以获得成功，我个人觉得，在诸多因素里面，列表操作的便捷性是不容忽视的一点。请看：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a[<span class="number">2</span>:<span class="number">4</span>]</span><br><span class="line">[<span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a[<span class="number">3</span>:]</span><br><span class="line">[<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a[<span class="number">1</span>:]</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a[:]</span><br><span class="line">[<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a[::<span class="number">2</span>]</span><br><span class="line">[<span class="number">0</span>, <span class="number">2</span>, <span class="number">4</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a[<span class="number">1</span>::<span class="number">2</span>]</span><br><span class="line">[<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a[<span class="number">-1</span>]</span><br><span class="line"><span class="number">5</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a[<span class="number">-2</span>]</span><br><span class="line"><span class="number">4</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a[<span class="number">1</span>:<span class="number">-1</span>]</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a[::<span class="number">-1</span>]</span><br><span class="line">[<span class="number">5</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">0</span>]</span><br></pre></td></tr></table></figure><p>如果说，这些你都很熟悉，也经常用，那么接下来这个用法，你一定会感觉很神奇：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b = [<span class="string">'a'</span>, <span class="string">'b'</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a[<span class="number">2</span>:<span class="number">2</span>] = b</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line">[<span class="number">0</span>, <span class="number">1</span>, <span class="string">'a'</span>, <span class="string">'b'</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a[<span class="number">3</span>:<span class="number">6</span>] = b</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line">[<span class="number">0</span>, <span class="number">1</span>, <span class="string">'a'</span>, <span class="string">'a'</span>, <span class="string">'b'</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br></pre></td></tr></table></figure><h2 id="7-lambda函数"><a href="#7-lambda函数" class="headerlink" title="7.lambda函数"></a>7.lambda函数</h2><p>lambda 听起来很高大上，其实就是匿名函数（了解js的同学一定很熟悉匿名函数）。匿名函数的应用场景是什么呢？就是仅在定义匿名函数的地方使用这个函数，其他地方用不到，所以就不需要给它取个阿猫阿狗之类的名字了。下面是一个求和的匿名函数，输入参数有两个，x和y，函数体就是x+y，省略了return关键字。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">lambda</span> x,y: x+y</span><br><span class="line">&lt;function &lt;<span class="keyword">lambda</span>&gt; at <span class="number">0x000001B2DE5BD598</span>&gt;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>(<span class="keyword">lambda</span> x,y: x+y)(<span class="number">3</span>,<span class="number">4</span>) <span class="comment"># 因为匿名函数没有名字，使用的时候要用括号把它包起来</span></span><br></pre></td></tr></table></figure><p>匿名函数一般不会单独使用，而是配合其他方法，为其他方法提供内置的算法或判断条件。比如，使用排序函数sorted对多维数组或者字典排序时，就可以指定排序规则。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = [&#123;<span class="string">'name'</span>:<span class="string">'B'</span>, <span class="string">'age'</span>:<span class="number">50</span>&#125;, &#123;<span class="string">'name'</span>:<span class="string">'A'</span>, <span class="string">'age'</span>:<span class="number">30</span>&#125;, &#123;<span class="string">'name'</span>:<span class="string">'C'</span>, <span class="string">'age'</span>:<span class="number">40</span>&#125;]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>sorted(a, key=<span class="keyword">lambda</span> x:x[<span class="string">'name'</span>]) <span class="comment"># 按姓名排序</span></span><br><span class="line">[&#123;<span class="string">'name'</span>: <span class="string">'A'</span>, <span class="string">'age'</span>: <span class="number">30</span>&#125;, &#123;<span class="string">'name'</span>: <span class="string">'B'</span>, <span class="string">'age'</span>: <span class="number">50</span>&#125;, &#123;<span class="string">'name'</span>: <span class="string">'C'</span>, <span class="string">'age'</span>: <span class="number">40</span>&#125;]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>sorted(a, key=<span class="keyword">lambda</span> x:x[<span class="string">'age'</span>]) <span class="comment"># 按年龄排序</span></span><br><span class="line">[&#123;<span class="string">'name'</span>: <span class="string">'A'</span>, <span class="string">'age'</span>: <span class="number">30</span>&#125;, &#123;<span class="string">'name'</span>: <span class="string">'C'</span>, <span class="string">'age'</span>: <span class="number">40</span>&#125;, &#123;<span class="string">'name'</span>: <span class="string">'B'</span>, <span class="string">'age'</span>: <span class="number">50</span>&#125;]</span><br></pre></td></tr></table></figure><p>再举一个数组元素求平方的例子，这次用map函数：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> item <span class="keyword">in</span> map(<span class="keyword">lambda</span> x:x*x, a):</span><br><span class="line">    print(item, end=<span class="string">', '</span>)</span><br><span class="line"></span><br><span class="line"><span class="number">1</span>, <span class="number">4</span>, <span class="number">9</span>,</span><br></pre></td></tr></table></figure><h2 id="8-yield以及生成器和迭代器"><a href="#8-yield以及生成器和迭代器" class="headerlink" title="8.yield以及生成器和迭代器"></a>8.yield以及生成器和迭代器</h2><p>要理解 yield，得先了解 generator（生成器）。要了解generator，得先知道 iterator（迭代器）。哈哈哈，绕晕了吧？算了，我还是说白话吧。</p><p>话说py2时代，range()返回的是list，但如果range(10000000)的话，会消耗大量内存资源，所以，py2又搞了一个xrange()来解决这个问题。py3则只保留了xrange()，但写作range()。xrange()返回的就是一个迭代器，它可以像list那样被遍历，但又不占用多少内存。generator（生成器）是一种特殊的迭代器，只能被遍历一次，遍历结束，就自动消失了。总之，不管是迭代器还是生成器，都是为了避免使用list，从而节省内存。那么，如何得到迭代器和生成器呢？</p><p>python内置了迭代函数 iter，用于生成迭代器，用法如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a_iter = iter(a)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a_iter</span><br><span class="line">&lt;list_iterator object at <span class="number">0x000001B2DE434BA8</span>&gt;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> i <span class="keyword">in</span> a_iter:</span><br><span class="line">    print(i, end=<span class="string">', '</span>)</span><br><span class="line"></span><br><span class="line"><span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>,</span><br></pre></td></tr></table></figure><p>yield 则是用于构造生成器的。比如，我们要写一个函数，返回从0到某正整数的所有整数的平方，传统的代码写法是这样的：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="function"><span class="keyword">def</span> <span class="title">get_square</span><span class="params">(n)</span>:</span></span><br><span class="line">    result = list()</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(n):</span><br><span class="line">        result.append(pow(i,<span class="number">2</span>))</span><br><span class="line">    <span class="keyword">return</span> result</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(get_square(<span class="number">5</span>))</span><br><span class="line">[<span class="number">0</span>, <span class="number">1</span>, <span class="number">4</span>, <span class="number">9</span>, <span class="number">16</span>]</span><br></pre></td></tr></table></figure><p>但是如果计算1亿以内的所有整数的平方，这个函数的内存开销会非常大，这是 yield 就可以大显身手了：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="function"><span class="keyword">def</span> <span class="title">get_square</span><span class="params">(n)</span>:</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(n):</span><br><span class="line">        <span class="keyword">yield</span>(pow(i,<span class="number">2</span>))</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = get_square(<span class="number">5</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line">&lt;generator object get_square at <span class="number">0x000001B2DE5CACF0</span>&gt;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> i <span class="keyword">in</span> a:</span><br><span class="line">    print(i, end=<span class="string">', '</span>)</span><br><span class="line"></span><br><span class="line"><span class="number">0</span>, <span class="number">1</span>, <span class="number">4</span>, <span class="number">9</span>, <span class="number">16</span>,</span><br></pre></td></tr></table></figure><p>如果再次遍历，则不会有输出了。</p><h2 id="9-装饰器"><a href="#9-装饰器" class="headerlink" title="9.装饰器"></a>9.装饰器</h2><p>刚弄明白迭代器和生成器，这又来个装饰器，Python 咋这么多器呢？的确，Python 为我们提供了很多的武器，装饰器就是最有力的武器之一。装饰器很强大，我在这里尝试从需求的角度，用一个简单的例子，说明装饰器的使用方法和制造工艺。</p><p>假如我们需要定义很多个函数，在每个函数运行的时候要显示这个函数的运行时长，解决方案有很多。比如，可以在调用每个函数之前读一下时间戳，每个函数运行结束后再读一下时间戳，求差即可；也可以在每个函数体内的开始和结束位置上读时间戳，最后求差。不过，这两个方法，都没有使用装饰器那么简单、优雅。下面的例子，很好地展示了这一点。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> time</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="function"><span class="keyword">def</span> <span class="title">timer</span><span class="params">(func)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">wrapper</span><span class="params">(*args,**kwds)</span>:</span></span><br><span class="line">        t0 = time.time()</span><br><span class="line">        func(*args,**kwds)</span><br><span class="line">        t1 = time.time()</span><br><span class="line">        print(<span class="string">'耗时%0.3f'</span>%(t1-t0,))</span><br><span class="line">    <span class="keyword">return</span> wrapper</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>@timer</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">do_something</span><span class="params">(delay)</span>:</span></span><br><span class="line">    print(<span class="string">'函数do_something开始'</span>)</span><br><span class="line">    time.sleep(delay)</span><br><span class="line">    print(<span class="string">'函数do_something结束'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>do_something(<span class="number">3</span>)</span><br><span class="line">函数do_something开始</span><br><span class="line">函数do_something结束</span><br><span class="line">耗时<span class="number">3.077</span></span><br></pre></td></tr></table></figure><p>timer() 是我们定义的装饰器函数，使用@把它附加在任何一个函数（比如do_something）定义之前，就等于把新定义的函数，当成了装饰器函数的输入参数。运行 do_something() 函数，可以理解为执行了timer(do_something) 。细节虽然复杂，不过这么理解不会偏差太大，且更易于把握装饰器的制造和使用。</p><h2 id="10-巧用断言assert"><a href="#10-巧用断言assert" class="headerlink" title="10.巧用断言assert"></a>10.巧用断言assert</h2><p>所谓断言，就是声明表达式的布尔值必须为真的判定，否则将触发 AssertionError 异常。严格来讲，assert是调试手段，不宜使用在生产环境中，但这不影响我们用断言来实现一些特定功能，比如，输入参数的格式、类型验证等。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="function"><span class="keyword">def</span> <span class="title">i_want_to_sleep</span><span class="params">(delay)</span>:</span></span><br><span class="line">    <span class="keyword">assert</span>(isinstance(delay, (int,float))), <span class="string">'函数参数必须为整数或浮点数'</span></span><br><span class="line">    print(<span class="string">'开始睡觉'</span>)</span><br><span class="line">    time.sleep(delay)</span><br><span class="line">    print(<span class="string">'睡醒了'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>i_want_to_sleep(<span class="number">1.1</span>)</span><br><span class="line">开始睡觉</span><br><span class="line">睡醒了</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>i_want_to_sleep(<span class="number">2</span>)</span><br><span class="line">开始睡觉</span><br><span class="line">睡醒了</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>i_want_to_sleep(<span class="string">'2'</span>)</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">"&lt;pyshell#247&gt;"</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">    i_want_to_sleep(<span class="string">'2'</span>)</span><br><span class="line">  File <span class="string">"&lt;pyshell#244&gt;"</span>, line <span class="number">2</span>, <span class="keyword">in</span> i_want_to_sleep</span><br><span class="line">    <span class="keyword">assert</span>(isinstance(delay, (int,float))), <span class="string">'函数参数必须为整数或浮点数'</span></span><br><span class="line">AssertionError: 函数参数必须为整数或浮点数</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Language </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>数据库实验五</title>
      <link href="/2019/10/30/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AE%9E%E9%AA%8C%E4%BA%94/"/>
      <url>/2019/10/30/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AE%9E%E9%AA%8C%E4%BA%94/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--1．创建一windows用户（名字自定），用sql语句建立windows验证模式的登录名。默认数据库为student</span></span><br><span class="line"><span class="comment">--2．用sql语句和系统存储过程建立登录名sqluser,密码为1234 </span></span><br><span class="line"><span class="comment">--sql</span></span><br><span class="line"><span class="keyword">create</span> login sqluser <span class="keyword">with</span> <span class="keyword">password</span>=<span class="string">'1234'</span>,default_database=student</span><br><span class="line"><span class="comment">--存储过程</span></span><br><span class="line">exec sp_addlogin <span class="string">'sqluser'</span>,<span class="string">'1234'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--3．为student数据库新建用户u1，其登录名为sqluser。</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">user</span> u1 <span class="keyword">from</span> login sqluser</span><br><span class="line"></span><br><span class="line"><span class="comment">--4．新建登录usersf，并将其加入到sysadmin固定服务器角色中。</span></span><br><span class="line">exec sp_addsrvrolemember <span class="string">'usersf'</span>,<span class="string">'sysadmin'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--5．将student用户usersf（登录名为usersf）加入到db_owner角色中，使其全权负责该数据库,并验证其权限。</span></span><br><span class="line">exec sp_addsrvrolemember <span class="string">'db_owner'</span>,<span class="string">'usersf'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--6．为SPJ数据库新建用户u2，u3，其登录名分别为u2，u3。</span></span><br><span class="line"><span class="keyword">create</span> login u2 <span class="keyword">with</span> <span class="keyword">password</span>=<span class="string">''</span>,default_database=SPJ</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">user</span> u2 <span class="keyword">for</span> login u2</span><br><span class="line"><span class="keyword">create</span> login u3 <span class="keyword">with</span> <span class="keyword">password</span>=<span class="string">''</span>,default_database=SPJ</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">user</span> u3 <span class="keyword">for</span> login u3</span><br><span class="line"></span><br><span class="line"><span class="comment">--（1）授予用户u2对S表有SELECT 权，对P表颜色（COLOR）具有更新权限；</span></span><br><span class="line"><span class="keyword">grant</span> <span class="keyword">select</span></span><br><span class="line"><span class="keyword">on</span> S</span><br><span class="line"><span class="keyword">to</span> u2</span><br><span class="line"><span class="keyword">grant</span> <span class="keyword">update</span>(color)</span><br><span class="line"><span class="keyword">on</span> P</span><br><span class="line"><span class="keyword">to</span> u2</span><br><span class="line"></span><br><span class="line"><span class="comment">--（2）u2将其拥有的权限授予u3；</span></span><br><span class="line"><span class="keyword">grant</span> u2</span><br><span class="line"><span class="keyword">to</span> u3</span><br><span class="line"></span><br><span class="line"><span class="comment">--（3）用sql语句逐一验证u2、u3所获得的权限。</span></span><br><span class="line"><span class="keyword">select</span> * </span><br><span class="line"><span class="keyword">from</span> S</span><br><span class="line"></span><br><span class="line"><span class="keyword">update</span> P</span><br><span class="line"><span class="keyword">set</span> color=<span class="string">'红'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--（4）撤销用户u3所获得的权限，并验证。</span></span><br><span class="line"><span class="keyword">revoke</span> <span class="keyword">select</span></span><br><span class="line"><span class="keyword">on</span> <span class="keyword">table</span> S</span><br><span class="line"><span class="keyword">from</span> u3</span><br><span class="line"><span class="keyword">revoke</span> <span class="keyword">update</span>(color)</span><br><span class="line"><span class="keyword">on</span> <span class="keyword">table</span> P</span><br><span class="line"><span class="keyword">from</span> u3</span><br><span class="line"></span><br><span class="line"><span class="comment">--7.在student数据库中建立角色operate,该角色具有对student和course表的查询权限；具有对表sc的插入和修改权限。</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">role</span> operate</span><br><span class="line"><span class="keyword">grant</span> <span class="keyword">select</span></span><br><span class="line"><span class="keyword">on</span> student</span><br><span class="line"><span class="keyword">to</span> operate</span><br><span class="line"><span class="keyword">grant</span> <span class="keyword">select</span></span><br><span class="line"><span class="keyword">on</span> course</span><br><span class="line"><span class="keyword">to</span> operate</span><br><span class="line"><span class="keyword">grant</span> <span class="keyword">update</span>,<span class="keyword">insert</span></span><br><span class="line"><span class="keyword">on</span> sc</span><br><span class="line"><span class="keyword">to</span> operate</span><br><span class="line"></span><br><span class="line"><span class="comment">--8.拒绝用户u1对sc表的修改权限。</span></span><br><span class="line">deny <span class="keyword">update</span> </span><br><span class="line"><span class="keyword">on</span> sc</span><br><span class="line"><span class="keyword">to</span> u1 </span><br><span class="line"><span class="keyword">cascade</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--9.使用存储过程将角色operate赋给用户u1,并用sql语句验证其权限。（特别验证u1对sc表的修改权限）</span></span><br><span class="line">exec sp_addrolemember <span class="string">'operate'</span>,<span class="string">'u1'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> *</span><br><span class="line"><span class="keyword">from</span> student</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> *</span><br><span class="line"><span class="keyword">from</span> course</span><br><span class="line"></span><br><span class="line"><span class="keyword">update</span> sc</span><br><span class="line"><span class="keyword">set</span> grade = <span class="number">100</span></span><br><span class="line"><span class="keyword">where</span> sno = <span class="string">'200515001'</span> <span class="keyword">and</span> cno = <span class="string">'1'</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Data Base Management System </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Data Base </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>洛谷 P1020 导弹拦截</title>
      <link href="/2019/10/30/%E6%B4%9B%E8%B0%B7-P1020-%E5%AF%BC%E5%BC%B9%E6%8B%A6%E6%88%AA/"/>
      <url>/2019/10/30/%E6%B4%9B%E8%B0%B7-P1020-%E5%AF%BC%E5%BC%B9%E6%8B%A6%E6%88%AA/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><p>某国为了防御敌国的导弹袭击，发展出一种导弹拦截系统。但是这种导弹拦截系统有一个缺陷：虽然它的第一发炮弹能够到达任意的高度，但是以后每一发炮弹都不能高于前一发的高度。某天，雷达捕捉到敌国的导弹来袭。由于该系统还在试用阶段，所以只有一套系统，因此有可能不能拦截所有的导弹。</p><p>输入导弹依次飞来的高度（雷达给出的高度数据是≤50000的正整数），计算这套系统最多能拦截多少导弹，如果要拦截所有导弹最少要配备多少套这种导弹拦截系统。</p><h2 id="输入格式"><a href="#输入格式" class="headerlink" title="输入格式"></a>输入格式</h2><p>1行，若干个整数（个数≤100000）</p><h2 id="输出格式"><a href="#输出格式" class="headerlink" title="输出格式"></a>输出格式</h2><p>2行，每行一个整数，第一个数字表示这套系统最多能拦截多少导弹，第二个数字表示如果要拦截所有导弹最少要配备多少套这种导弹拦截系统。</p><h2 id="输入输出样例"><a href="#输入输出样例" class="headerlink" title="输入输出样例"></a>输入输出样例</h2><p><strong>输入 #1</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">389 207 155 300 299 170 158 65</span><br></pre></td></tr></table></figure><p><strong>输出 #1</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">6</span><br><span class="line">2</span><br></pre></td></tr></table></figure><h2 id="说明-提示"><a href="#说明-提示" class="headerlink" title="说明/提示"></a>说明/提示</h2><p>为了让大家更好地测试n方算法，本题开启spj，n方100分，nlogn200分</p><p>每点两问，按问给分</p><h2 id="题解"><a href="#题解" class="headerlink" title="题解"></a>题解</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> a[<span class="number">100010</span>], d1[<span class="number">100010</span>], d2[<span class="number">100010</span>], n;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">bool</span> <span class="title">read</span><span class="params">(<span class="keyword">int</span> &amp;x)</span> </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">char</span> c = getchar();</span><br><span class="line"><span class="keyword">if</span> (c == EOF)</span><br><span class="line"><span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"><span class="keyword">while</span> (c &gt; <span class="string">'9'</span> || c &lt; <span class="string">'0'</span>)</span><br><span class="line">c = getchar();</span><br><span class="line"><span class="keyword">while</span> (c &gt;= <span class="string">'0'</span>&amp;&amp;c &lt;= <span class="string">'9'</span>) &#123;</span><br><span class="line">x = (x &lt;&lt; <span class="number">1</span>) + (x &lt;&lt; <span class="number">3</span>) + (c ^ <span class="number">48</span>);</span><br><span class="line">c = getchar();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="comment">//freopen("1.txt", "r", stdin);</span></span><br><span class="line"><span class="comment">//freopen("2.txt", "w", stdout);</span></span><br><span class="line"><span class="keyword">while</span> (read(a[++n])); </span><br><span class="line">n--;</span><br><span class="line"><span class="keyword">int</span> len1 = <span class="number">1</span>, len2 = <span class="number">1</span>;</span><br><span class="line">d1[<span class="number">1</span>] = d2[<span class="number">1</span>] = a[<span class="number">1</span>];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= n; i++) &#123;</span><br><span class="line"><span class="keyword">if</span> (d1[len1] &gt;= a[i])</span><br><span class="line">d1[++len1] = a[i];</span><br><span class="line"><span class="keyword">else</span> </span><br><span class="line">*upper_bound(d1 + <span class="number">1</span>, d1 + <span class="number">1</span> + len1, a[i], greater&lt;<span class="keyword">int</span>&gt;()) = a[i];</span><br><span class="line"><span class="keyword">if</span> (d2[len2] &lt; a[i])</span><br><span class="line">d2[++len2] = a[i];</span><br><span class="line"><span class="keyword">else</span> </span><br><span class="line">*lower_bound(d2 + <span class="number">1</span>, d2 + <span class="number">1</span> + len2, a[i]) = a[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d\n%d"</span>, len1, len2);</span><br><span class="line"><span class="comment">//fclose(stdin);</span></span><br><span class="line"><span class="comment">//fclose(stdout)</span></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> LuoGu </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Dynamic Programming </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PTA(Advanced Level) 1001 A+B Format</title>
      <link href="/2019/10/28/PTA-Advanced-Level-1001-A-B-Format/"/>
      <url>/2019/10/28/PTA-Advanced-Level-1001-A-B-Format/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>Calculate <em>a</em>+<em>b</em> and output the sum in standard format – that is, the digits must be separated into groups of three by commas (unless there are less than four digits).</p><h3 id="Input-Specification"><a href="#Input-Specification" class="headerlink" title="Input Specification:"></a>Input Specification:</h3><p>Each input file contains one test case. Each case contains a pair of integers <em>a</em> and <em>b</em> where −10^6</p><p>≤<em>a</em>,<em>b</em>≤10^6. The numbers are separated by a space.</p><h3 id="Output-Specification"><a href="#Output-Specification" class="headerlink" title="Output Specification:"></a>Output Specification:</h3><p>For each test case, you should output the sum of <em>a</em> and <em>b</em> in one line. The sum must be written in the standard format.</p><h3 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input:"></a>Sample Input:</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-1000000 9</span><br></pre></td></tr></table></figure><h3 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output:"></a>Sample Output:</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-999,991</span><br></pre></td></tr></table></figure><h3 id="Solution"><a href="#Solution" class="headerlink" title="Solution:"></a>Solution:</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> a, b, c, ans[<span class="number">10</span>], flag = <span class="number">0</span>, n = <span class="number">1</span>;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;a, &amp;b);</span><br><span class="line">c = a + b;</span><br><span class="line"><span class="keyword">if</span> (c == <span class="number">0</span>) &#123;<span class="comment">//第一次提交没有想到a+b为0这一点</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"0"</span>);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (c &gt; <span class="number">0</span>)<span class="comment">//determine the positive and negative</span></span><br><span class="line">flag = <span class="number">1</span>;</span><br><span class="line">c = <span class="built_in">abs</span>(c);</span><br><span class="line"><span class="keyword">while</span> (c) &#123;<span class="comment">//convert the sum into an array</span></span><br><span class="line">ans[n++] = c % <span class="number">10</span>;</span><br><span class="line">c /= <span class="number">10</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (flag == <span class="number">0</span>)</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"-"</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = n - <span class="number">1</span>; i &gt; <span class="number">0</span>; i--) &#123;</span><br><span class="line"><span class="keyword">if</span> (i % <span class="number">3</span> == <span class="number">0</span> &amp;&amp; i != n - <span class="number">1</span>)</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">","</span>);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d"</span>, ans[i]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> PAT </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Advanced Level </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>数据库实验四</title>
      <link href="/2019/10/24/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AE%9E%E9%AA%8C%E5%9B%9B/"/>
      <url>/2019/10/24/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AE%9E%E9%AA%8C%E5%9B%9B/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--一、对xsgl数据库完成下列操作要求：</span></span><br><span class="line"><span class="keyword">use</span> xsgl</span><br><span class="line"><span class="comment">--1.将被全部学生都选修了的课程的总学分改为4学分</span></span><br><span class="line"><span class="keyword">update</span> kc <span class="keyword">set</span> kc.学分 = <span class="number">4</span></span><br><span class="line"><span class="keyword">where</span> kc.课程号 <span class="keyword">in</span></span><br><span class="line">(<span class="keyword">select</span> kc.课程号</span><br><span class="line"><span class="keyword">from</span> kc</span><br><span class="line"><span class="keyword">where</span> <span class="keyword">not</span> <span class="keyword">exists</span></span><br><span class="line">(<span class="keyword">select</span> *</span><br><span class="line"><span class="keyword">from</span> xs</span><br><span class="line"><span class="keyword">where</span> <span class="keyword">not</span> <span class="keyword">exists</span></span><br><span class="line">(<span class="keyword">select</span> *</span><br><span class="line"><span class="keyword">from</span> cj</span><br><span class="line"><span class="keyword">where</span> cj.课程号 = kc.课程号 <span class="keyword">and</span> cj.学号 = xs.学号)))</span><br><span class="line"></span><br><span class="line"><span class="comment">--2.从学生表删除没有选课的学生</span></span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> xs</span><br><span class="line"><span class="keyword">where</span> xs.学号 <span class="keyword">not</span> <span class="keyword">in</span></span><br><span class="line">(<span class="keyword">select</span> cj.学号</span><br><span class="line"><span class="keyword">from</span> cj)</span><br><span class="line"></span><br><span class="line"><span class="comment">--3.将每个学生的平均分，总分和选课门数插入到数据库中（学号，姓名，平均分，总分，选课门数）</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> <span class="keyword">new</span>(</span><br><span class="line">学号 <span class="built_in">char</span>(<span class="number">10</span>),</span><br><span class="line">姓名 <span class="keyword">nchar</span>(<span class="number">10</span>),</span><br><span class="line">平均分 <span class="built_in">numeric</span>(<span class="number">10</span>,<span class="number">2</span>),</span><br><span class="line">总分 <span class="built_in">numeric</span>(<span class="number">10</span>,<span class="number">2</span>),</span><br><span class="line">选课门数 <span class="built_in">smallint</span>)</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> <span class="keyword">new</span></span><br><span class="line"><span class="keyword">select</span> xs.学号,xs.姓名,<span class="keyword">avg</span>(cj.成绩),<span class="keyword">sum</span>(cj.成绩),<span class="keyword">count</span>(cj.课程号)</span><br><span class="line"><span class="keyword">from</span> xs <span class="keyword">left</span> <span class="keyword">join</span> cj <span class="keyword">on</span> xs.学号=cj.学号</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> xs.学号,xs.姓名</span><br><span class="line"></span><br><span class="line"><span class="comment">--4.创建每门课程的平均分和选课人数的视图（课程号，课程名，平均分，人数）</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">view</span> Course(课程号,课程名,平均分,人数)</span><br><span class="line"><span class="keyword">as</span></span><br><span class="line"><span class="keyword">select</span> kc.课程号,kc.课程名,<span class="keyword">avg</span>(cj.成绩) 平均分,<span class="keyword">count</span>(cj.学号) 人数</span><br><span class="line"><span class="keyword">from</span> kc <span class="keyword">left</span> <span class="keyword">join</span> cj <span class="keyword">on</span> (kc.课程号 = cj.课程号)</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> kc.课程号,kc.课程名</span><br><span class="line"></span><br><span class="line"><span class="comment">--5.将李强同学从学生表删除（提示应该先删除李强同学的选课记录）</span></span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> cj</span><br><span class="line"><span class="keyword">where</span> cj.学号 = </span><br><span class="line">(<span class="keyword">select</span> xs.学号</span><br><span class="line"><span class="keyword">from</span> xs</span><br><span class="line"><span class="keyword">where</span> xs.姓名 = <span class="string">'李强'</span>)</span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> xs</span><br><span class="line"><span class="keyword">where</span> xs.姓名 = <span class="string">'李强'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--6.插入一条选课记录（具体内容自己选）</span></span><br><span class="line"><span class="keyword">insert</span></span><br><span class="line"><span class="keyword">into</span> xs</span><br><span class="line"><span class="keyword">values</span>(<span class="string">'2018008003'</span>,<span class="string">'彭于晏'</span>,<span class="string">'男'</span>,<span class="literal">null</span>,<span class="literal">null</span>,<span class="literal">null</span>,<span class="literal">null</span>,<span class="literal">null</span>)</span><br><span class="line"><span class="keyword">insert</span></span><br><span class="line"><span class="keyword">into</span> cj</span><br><span class="line"><span class="keyword">values</span>(<span class="string">'2018008003'</span>,<span class="string">'A001'</span>,<span class="literal">null</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">--7.创建网络工程专业的学生的选课信息的视图，要求视图包含，学号，姓名，专业，课程号，课程名，成绩</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">view</span> IT(学号,姓名,专业,课程号,课程名,成绩)</span><br><span class="line"><span class="keyword">as</span></span><br><span class="line"><span class="keyword">select</span> xs.学号,xs.姓名,xs.专业,kc.课程号,kc.课程名,cj.成绩</span><br><span class="line"><span class="keyword">from</span> xs <span class="keyword">left</span> <span class="keyword">join</span> cj <span class="keyword">on</span> xs.学号 = cj.学号</span><br><span class="line"><span class="keyword">right</span> <span class="keyword">join</span> kc <span class="keyword">on</span> cj.课程号 = kc.课程号</span><br><span class="line"><span class="keyword">where</span> xs.专业 = <span class="string">'网络工程'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--8.查询网络工程专业的各科的平均成绩，要求使用第7题创建的视图进行查询</span></span><br><span class="line"><span class="keyword">select</span> IT.课程号,<span class="keyword">avg</span>(IT.成绩) 平均成绩</span><br><span class="line"><span class="keyword">from</span> IT</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> IT.课程号</span><br><span class="line"></span><br><span class="line"><span class="comment">--9.查询被信息管理专业的学生都选修了的课程的课程号，课程名</span></span><br><span class="line"><span class="keyword">select</span> kc.课程号,kc.课程名</span><br><span class="line"><span class="keyword">from</span> kc</span><br><span class="line"><span class="keyword">where</span> <span class="keyword">not</span> <span class="keyword">exists</span></span><br><span class="line">(<span class="keyword">select</span> *</span><br><span class="line"><span class="keyword">from</span> xs</span><br><span class="line"><span class="keyword">where</span> xs.专业 = <span class="string">'信息管理'</span> <span class="keyword">and</span> <span class="keyword">not</span> <span class="keyword">exists</span></span><br><span class="line">(<span class="keyword">select</span> *</span><br><span class="line"><span class="keyword">from</span> cj</span><br><span class="line"><span class="keyword">where</span> cj.学号 = xs.学号 <span class="keyword">and</span> cj.课程号 = kc.课程号))</span><br><span class="line"></span><br><span class="line"><span class="comment">--10.显示选修课程数最多的学号及选修课程数最少的学号，姓名（使用派生表实现）</span></span><br><span class="line"><span class="keyword">select</span> xs.学号,xs.姓名,<span class="keyword">count</span>(*) 门数</span><br><span class="line"><span class="keyword">from</span> xs,cj,(<span class="keyword">select</span> top <span class="number">1</span> <span class="keyword">count</span>(*)</span><br><span class="line"><span class="keyword">from</span> cj</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> cj.学号</span><br><span class="line"><span class="keyword">order</span> <span class="keyword">by</span> <span class="keyword">count</span>(*) <span class="keyword">desc</span>) Maxx(门数),</span><br><span class="line">(<span class="keyword">select</span> top <span class="number">1</span> <span class="keyword">count</span>(*)</span><br><span class="line"><span class="keyword">from</span> cj</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> cj.学号</span><br><span class="line"><span class="keyword">order</span> <span class="keyword">by</span> <span class="keyword">count</span>(*)) Minn(门数)</span><br><span class="line"><span class="keyword">where</span> cj.学号 = xs.学号</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> xs.学号,xs.姓名,Maxx.门数,Minn.门数</span><br><span class="line"><span class="keyword">having</span> <span class="keyword">count</span>(*) = Maxx.门数 <span class="keyword">or</span> <span class="keyword">count</span>(*) = Minn.门数</span><br><span class="line"></span><br><span class="line"><span class="comment">--11.查询每个学生成绩高于自己的平均成绩的学号，姓名，课程号和成绩（使用派生表实现）</span></span><br><span class="line"><span class="keyword">select</span> xs.学号,xs.姓名,cj.课程号,cj.成绩</span><br><span class="line"><span class="keyword">from</span> xs,cj,(<span class="keyword">select</span> cj1.学号,<span class="keyword">avg</span>(cj1.成绩) 平均成绩</span><br><span class="line"><span class="keyword">from</span> cj cj1</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> cj1.学号) avg_grade</span><br><span class="line"><span class="keyword">where</span> cj.学号 = avg_grade.学号 <span class="keyword">and</span> xs.学号 = cj.学号 <span class="keyword">and</span> cj.成绩 &gt; avg_grade.平均成绩</span><br><span class="line"></span><br><span class="line"><span class="comment">--12.自己验证with check option的作用</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">view</span> IE</span><br><span class="line"><span class="keyword">as</span></span><br><span class="line"><span class="keyword">select</span> xs.学号,xs.姓名,xs.性别,xs.专业</span><br><span class="line"><span class="keyword">from</span> xs</span><br><span class="line"><span class="keyword">where</span> xs.专业 = <span class="string">'网络工程'</span></span><br><span class="line"><span class="keyword">with</span> <span class="keyword">check</span> <span class="keyword">option</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> IE(学号,姓名)</span><br><span class="line"><span class="keyword">values</span>(<span class="string">'2018008002'</span>,<span class="string">'吴彦祖'</span>) </span><br><span class="line"></span><br><span class="line"><span class="comment">--13.创建一个网络工程系的学生基本信息的视图MA_STUDENT，在此视图的基础上，再定义一个该专业女生信息的视图，然后再删除MA_STUDENT，观察执行情况。</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">view</span> MA_STUDENT</span><br><span class="line"><span class="keyword">as</span></span><br><span class="line"><span class="keyword">select</span> *</span><br><span class="line"><span class="keyword">from</span> xs</span><br><span class="line"><span class="keyword">where</span> xs.专业 = <span class="string">'网络工程'</span></span><br><span class="line"><span class="keyword">with</span> <span class="keyword">check</span> <span class="keyword">option</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">view</span> Female</span><br><span class="line"><span class="keyword">as</span></span><br><span class="line"><span class="keyword">select</span> *</span><br><span class="line"><span class="keyword">from</span> MA_STUDENT</span><br><span class="line"><span class="keyword">where</span> MA_STUDENT.性别 = <span class="string">'女'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">view</span> MA_STUDENT</span><br><span class="line"></span><br><span class="line"><span class="comment">--14.查询和程明同龄的学生的学号和姓名以及年龄</span></span><br><span class="line"><span class="keyword">select</span> xs.学号,xs.姓名,<span class="keyword">datediff</span>(yy,xs.出生时间,<span class="keyword">getdate</span>()) 年龄</span><br><span class="line"><span class="keyword">from</span> xs</span><br><span class="line"><span class="keyword">where</span> <span class="keyword">datediff</span>(yy,xs.出生时间,<span class="keyword">getdate</span>()) = (<span class="keyword">select</span> <span class="keyword">datediff</span>(yy,xs2.出生时间,<span class="keyword">getdate</span>())</span><br><span class="line"><span class="keyword">from</span> xs xs2</span><br><span class="line"><span class="keyword">where</span> xs2.姓名 = <span class="string">'程明'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">--15.查询没有被全部的学生都选修的课程的课程号和课程名</span></span><br><span class="line"><span class="keyword">select</span> kc.课程号,kc.课程名</span><br><span class="line"><span class="keyword">from</span> kc</span><br><span class="line"><span class="keyword">where</span> <span class="keyword">exists</span></span><br><span class="line">(<span class="keyword">select</span> *</span><br><span class="line"><span class="keyword">from</span> xs</span><br><span class="line"><span class="keyword">where</span> <span class="keyword">not</span> <span class="keyword">exists</span></span><br><span class="line">(<span class="keyword">select</span> *</span><br><span class="line"><span class="keyword">from</span> cj</span><br><span class="line"><span class="keyword">where</span> cj.学号 = xs.学号 <span class="keyword">and</span> cj.课程号 = kc.课程号))</span><br><span class="line"></span><br><span class="line"><span class="comment">--16.查询选课学生包含了选英语的全部学生的课程的课程号和课程名</span></span><br><span class="line"><span class="keyword">select</span> kc.课程号,kc.课程名</span><br><span class="line"><span class="keyword">from</span> kc</span><br><span class="line"><span class="keyword">where</span> <span class="keyword">not</span> <span class="keyword">exists</span></span><br><span class="line">(<span class="keyword">select</span> *</span><br><span class="line"><span class="keyword">from</span> cj</span><br><span class="line"><span class="keyword">where</span> cj.课程号 = (<span class="keyword">select</span> kc.课程号</span><br><span class="line"><span class="keyword">from</span> kc</span><br><span class="line"><span class="keyword">where</span> kc.课程名 = <span class="string">'英语'</span>)</span><br><span class="line"><span class="keyword">and</span> <span class="keyword">not</span> <span class="keyword">exists</span></span><br><span class="line">(<span class="keyword">select</span> *</span><br><span class="line"><span class="keyword">from</span> cj c</span><br><span class="line"><span class="keyword">where</span> c.学号 = cj.学号 <span class="keyword">and</span> c.课程号 = kc.课程号))</span><br><span class="line"></span><br><span class="line"><span class="comment">--二、使用Northwind数据库完成下列操作</span></span><br><span class="line"><span class="keyword">use</span> Northwind</span><br><span class="line"><span class="comment">--1. 将员工lastname是: Peacock处理的订单中购买数量超过50的商品折扣改为七折</span></span><br><span class="line"><span class="keyword">update</span> [<span class="keyword">Order</span> Details]</span><br><span class="line"><span class="keyword">set</span> Discount = <span class="number">0.3</span></span><br><span class="line"><span class="keyword">where</span> [<span class="keyword">Order</span> Details].Quantity &gt; <span class="number">50</span> <span class="keyword">and</span> [<span class="keyword">Order</span> Details].OrderID <span class="keyword">in</span></span><br><span class="line">(<span class="keyword">select</span> O1.OrderID</span><br><span class="line"><span class="keyword">from</span> [<span class="keyword">Order</span> Details] O1,Employees,Orders</span><br><span class="line"><span class="keyword">where</span> Employees.EmployeeID = Orders.EmployeeID <span class="keyword">and</span> Orders.OrderID = O1.OrderID <span class="keyword">and</span> Employees.LastName = <span class="string">'Peacock'</span> <span class="keyword">and</span> O1.Quantity &gt; <span class="number">50</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">--2. 删除lastname是: Peacock处理的所有订单</span></span><br><span class="line"><span class="keyword">delete</span></span><br><span class="line"><span class="keyword">from</span> [<span class="keyword">Order</span> Details]</span><br><span class="line"><span class="keyword">where</span> [<span class="keyword">Order</span> Details].OrderID <span class="keyword">in</span></span><br><span class="line">(<span class="keyword">select</span> <span class="keyword">distinct</span> O1.OrderID</span><br><span class="line"><span class="keyword">from</span> [<span class="keyword">Order</span> Details] O1,Employees,Orders</span><br><span class="line"><span class="keyword">where</span> O1.OrderID = Orders.OrderID <span class="keyword">and</span> Orders.EmployeeID = Employees.EmployeeID <span class="keyword">and</span> Employees.LastName = <span class="string">'Peacock'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">delete</span></span><br><span class="line"><span class="keyword">from</span> Orders</span><br><span class="line"><span class="keyword">where</span> Orders.EmployeeID = </span><br><span class="line">(<span class="keyword">select</span> Employees.EmployeeID</span><br><span class="line"><span class="keyword">from</span> Employees</span><br><span class="line"><span class="keyword">where</span> Employees.LastName = <span class="string">'Peacock'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">--3. 将每个订单的订单编号，顾客编号，产品总数量，总金额插入到数据库中</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> OrderInfo(</span><br><span class="line">订单编号 <span class="built_in">int</span>,</span><br><span class="line">顾客编号 <span class="keyword">nchar</span>(<span class="number">5</span>),</span><br><span class="line">产品总数量 <span class="built_in">smallint</span>,</span><br><span class="line">总金额 money)</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span></span><br><span class="line"><span class="keyword">into</span> OrderInfo</span><br><span class="line"><span class="keyword">select</span> Orders.OrderID,Orders.CustomerID,<span class="keyword">sum</span>([<span class="keyword">Order</span> Details].Quantity) 数量,<span class="keyword">sum</span>([<span class="keyword">Order</span> Details].UnitPrice*[<span class="keyword">Order</span> Details].Quantity*(<span class="number">1</span>- [<span class="keyword">Order</span> Details].Discount)) 金额</span><br><span class="line"><span class="keyword">from</span> [<span class="keyword">Order</span> Details],Orders</span><br><span class="line"><span class="keyword">where</span> [<span class="keyword">Order</span> Details].OrderID = Orders.OrderID</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> Orders.OrderID,Orders.CustomerID</span><br><span class="line"></span><br><span class="line"><span class="comment">--4. 插入一个新的订单，要求该订单购买了商品编号为5,7,9的商品。（5号商品买了10个，7号买了20个，9号买了15个，都没有折扣）</span></span><br><span class="line"><span class="keyword">insert</span> </span><br><span class="line"><span class="keyword">into</span> [<span class="keyword">Order</span> Details]</span><br><span class="line"><span class="keyword">values</span>(<span class="string">'10325'</span>,<span class="string">'5'</span>, <span class="string">'50'</span>, <span class="string">'10'</span>, <span class="string">'0'</span>)</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> [<span class="keyword">Order</span> Details]</span><br><span class="line"><span class="keyword">values</span>(<span class="string">'10325'</span>,<span class="string">'7'</span>, <span class="string">'70'</span>, <span class="string">'20'</span>, <span class="string">'0'</span>)</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> [<span class="keyword">Order</span> Details]</span><br><span class="line"><span class="keyword">values</span>(<span class="string">'10325'</span>,<span class="string">'9'</span>, <span class="string">'90'</span>, <span class="string">'15'</span>, <span class="string">'0'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">--5. 将每年每个员工处理订单的数量和订单的总金额创建为视图</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">view</span> Employ</span><br><span class="line"><span class="keyword">as</span></span><br><span class="line"><span class="keyword">select</span> Employees.EmployeeID,<span class="keyword">datename</span>(yy,Orders.OrderDate) 年份,</span><br><span class="line">   <span class="keyword">count</span>(<span class="keyword">distinct</span> Orders.OrderID) 订单数量,<span class="keyword">sum</span>([<span class="keyword">Order</span> Details].Quantity) 数量,</span><br><span class="line">       <span class="keyword">sum</span>([<span class="keyword">Order</span> Details].Quantity*[<span class="keyword">Order</span> Details].UnitPrice*(<span class="number">1</span>-[<span class="keyword">Order</span> Details].Discount)) 订单总金额</span><br><span class="line"><span class="keyword">from</span> Employees <span class="keyword">left</span> <span class="keyword">join</span> Orders <span class="keyword">on</span> Employees.EmployeeID=Orders.EmployeeID</span><br><span class="line">   <span class="keyword">left</span> <span class="keyword">join</span> [<span class="keyword">Order</span> Details] <span class="keyword">on</span> Orders.OrderID=[<span class="keyword">Order</span> Details].OrderID</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> Employees.EmployeeID,<span class="keyword">datename</span>(yy,Orders.OrderDate)</span><br><span class="line"></span><br><span class="line"><span class="comment">--6. 购买了CustomerID是‘VINET’用户所购买的全部商品的用户的CustomerID和CompanyName。</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">distinct</span> Customers.CustomerID,Customers.CompanyName</span><br><span class="line"><span class="keyword">from</span> Customers,Orders </span><br><span class="line"><span class="keyword">where</span> Customers.CustomerID = Orders.CustomerID <span class="keyword">and</span> <span class="keyword">not</span> <span class="keyword">exists</span></span><br><span class="line">(<span class="keyword">select</span> *</span><br><span class="line"><span class="keyword">from</span> Orders o2,Customers c2</span><br><span class="line"><span class="keyword">where</span> o2.CustomerID = c2.CustomerID <span class="keyword">and</span> o2.CustomerID = <span class="string">'VINET'</span> <span class="keyword">and</span> <span class="keyword">not</span> <span class="keyword">exists</span></span><br><span class="line">(<span class="keyword">select</span> *</span><br><span class="line"><span class="keyword">from</span> Orders o3</span><br><span class="line"><span class="keyword">where</span> o3.CustomerID = Orders.CustomerID))</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Data Base Management System </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Data Base </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>数据库实验三</title>
      <link href="/2019/10/22/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AE%9E%E9%AA%8C%E4%B8%89/"/>
      <url>/2019/10/22/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AE%9E%E9%AA%8C%E4%B8%89/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--一.对xsgl数据库完成以下操作</span></span><br><span class="line"><span class="comment">--1.查询没有选修英语的学生的学号，姓名和课程号，课程名，成绩</span></span><br><span class="line"><span class="keyword">select</span> xs.学号,xs.姓名,kc.课程号,kc.课程名,cj.成绩</span><br><span class="line"><span class="keyword">from</span> xs,kc,cj</span><br><span class="line"><span class="keyword">where</span> xs.学号 = cj.学号 <span class="keyword">and</span> kc.课程号 = cj.课程号 <span class="keyword">and</span> kc.课程名 &lt;&gt; <span class="string">'英语'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--2.查询英语成绩高于英语的平均成绩的学生的学号，姓名，成绩</span></span><br><span class="line"><span class="keyword">select</span> xs.学号,xs.姓名,cj.成绩</span><br><span class="line"><span class="keyword">from</span> xs,cj,kc</span><br><span class="line"><span class="keyword">where</span> xs.学号 = cj.学号 <span class="keyword">and</span> cj.课程号 = kc.课程号 <span class="keyword">and</span> kc.课程名 = <span class="string">'英语'</span> <span class="keyword">and</span> cj.成绩 &gt; </span><br><span class="line">(<span class="keyword">select</span> <span class="keyword">avg</span>(cj.成绩)</span><br><span class="line"><span class="keyword">from</span> kc,cj</span><br><span class="line"><span class="keyword">where</span> cj.课程号 = kc.课程号 <span class="keyword">and</span> kc.课程名 = <span class="string">'英语'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">--3.查询选修了英语和高数(数学)的学生的学号和姓名（要求使用两种方法实现）</span></span><br><span class="line"><span class="keyword">select</span> xs.学号,xs.姓名</span><br><span class="line"><span class="keyword">from</span> xs,cj,kc</span><br><span class="line"><span class="keyword">where</span> xs.学号 = cj.学号 <span class="keyword">and</span> cj.课程号 = kc.课程号 <span class="keyword">and</span> kc.课程名 = <span class="string">'英语'</span> <span class="keyword">and</span> cj.学号 <span class="keyword">in</span></span><br><span class="line">(<span class="keyword">select</span> cj.学号</span><br><span class="line"><span class="keyword">from</span> cj,xs,kc</span><br><span class="line"><span class="keyword">where</span> xs.学号 = cj.学号 <span class="keyword">and</span> cj.课程号 = kc.课程号 <span class="keyword">and</span> kc.课程名 = <span class="string">'数学'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> xs.学号,xs.姓名</span><br><span class="line"><span class="keyword">from</span> xs,cj,kc  </span><br><span class="line"><span class="keyword">where</span> xs.学号 = cj.学号 <span class="keyword">and</span> cj.课程号 = kc.课程号 <span class="keyword">and</span> 课程名 = <span class="string">'英语'</span> </span><br><span class="line"><span class="keyword">and</span>xs.学号 <span class="keyword">in</span> </span><br><span class="line">(<span class="keyword">select</span> 学号 </span><br><span class="line"><span class="keyword">from</span> cj </span><br><span class="line"><span class="keyword">where</span> 课程号 = </span><br><span class="line">(<span class="keyword">select</span> 课程号 </span><br><span class="line">           <span class="keyword">from</span> kc</span><br><span class="line">           <span class="keyword">where</span> 课程名 = <span class="string">'数学'</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">--4.查询没有选修程明所选修的全部课程的学生的姓名</span></span><br><span class="line"><span class="keyword">select</span> xs.姓名</span><br><span class="line"><span class="keyword">from</span> xs,cj</span><br><span class="line"><span class="keyword">where</span> xs.学号 = cj.学号 <span class="keyword">and</span> cj.课程号 <span class="keyword">not</span> <span class="keyword">in</span></span><br><span class="line">(<span class="keyword">select</span> cj.课程号</span><br><span class="line"><span class="keyword">from</span> xs,cj</span><br><span class="line"><span class="keyword">where</span> xs.学号 = cj.学号 <span class="keyword">and</span> xs.姓名 = <span class="string">'程明'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">--5.查询每个专业年龄超过该专业平均年龄的学生的姓名和专业</span></span><br><span class="line"><span class="keyword">select</span> xs1.姓名,xs1.专业</span><br><span class="line"><span class="keyword">from</span> xs xs1</span><br><span class="line"><span class="keyword">where</span> <span class="keyword">datediff</span>(yy,xs1.出生时间,<span class="keyword">getdate</span>()) &gt; </span><br><span class="line">(<span class="keyword">select</span> <span class="keyword">avg</span>(<span class="keyword">datediff</span>(yy,xs2.出生时间,<span class="keyword">getdate</span>()))</span><br><span class="line"><span class="keyword">from</span> xs xs2</span><br><span class="line"><span class="keyword">where</span> xs1.专业 = xs2.专业)</span><br><span class="line"></span><br><span class="line"><span class="comment">--6.查询每个专业每门课程的专业，课程号，课程名，选课人数，平均分和最高分</span></span><br><span class="line"><span class="keyword">select</span> xs.专业,kc.课程号,kc.课程名,<span class="keyword">count</span>(*) 选课人数,<span class="keyword">avg</span>(cj.成绩) 平均分,<span class="keyword">max</span>(cj.成绩) 最高分</span><br><span class="line"><span class="keyword">from</span> xs,kc,cj</span><br><span class="line"><span class="keyword">where</span> xs.学号 = cj.学号 <span class="keyword">and</span> kc.课程号 = cj.课程号</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> kc.课程号,kc.课程名,xs.专业</span><br><span class="line"></span><br><span class="line"><span class="comment">--7.查询每个学生取得最高分的课程的课程号，课程名和成绩</span></span><br><span class="line"><span class="keyword">select</span> cj.学号,kc.课程号,kc.课程名,cj.成绩</span><br><span class="line"><span class="keyword">from</span> kc,cj</span><br><span class="line"><span class="keyword">where</span> kc.课程号 = cj.课程号 <span class="keyword">and</span> cj.成绩 &gt;= <span class="keyword">all</span></span><br><span class="line">(<span class="keyword">select</span> cj2.成绩</span><br><span class="line"><span class="keyword">from</span> cj cj2</span><br><span class="line"><span class="keyword">where</span> cj2.学号 = cj.学号)</span><br><span class="line"></span><br><span class="line"><span class="comment">--8.查询每个专业年龄最高的学生的学号，姓名，专业和年龄</span></span><br><span class="line"><span class="keyword">select</span> xs.学号,xs.姓名,xs.专业,<span class="keyword">datediff</span>(yy,xs.出生时间,<span class="keyword">getdate</span>()) 年龄</span><br><span class="line"><span class="keyword">from</span> xs</span><br><span class="line"><span class="keyword">where</span> <span class="keyword">datediff</span>(yy,xs.出生时间,<span class="keyword">getdate</span>()) &gt;= <span class="keyword">all</span></span><br><span class="line">(<span class="keyword">select</span> <span class="keyword">datediff</span>(yy,xs2.出生时间,<span class="keyword">getdate</span>())</span><br><span class="line"><span class="keyword">from</span> xs xs2</span><br><span class="line"><span class="keyword">where</span> xs2.专业 = xs.专业)</span><br><span class="line"></span><br><span class="line"><span class="comment">--9.查询没有选修数据结构和操作系统的学生的学号和姓名</span></span><br><span class="line"><span class="keyword">select</span> xs.学号,xs.姓名</span><br><span class="line"><span class="keyword">from</span> xs</span><br><span class="line"><span class="keyword">where</span> xs.学号 <span class="keyword">not</span> <span class="keyword">in</span> </span><br><span class="line">(<span class="keyword">select</span> cj.学号</span><br><span class="line"><span class="keyword">from</span> cj</span><br><span class="line"><span class="keyword">where</span> cj.课程号 <span class="keyword">in</span></span><br><span class="line">(<span class="keyword">select</span> kc.课程号</span><br><span class="line"><span class="keyword">from</span> kc</span><br><span class="line"><span class="keyword">where</span> kc.课程名 = <span class="string">'数据结构'</span> <span class="keyword">or</span> kc.课程名 = <span class="string">'操作系统'</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">--10.查询网络工程专业年龄最小的学生的学号和姓名</span></span><br><span class="line"><span class="keyword">select</span> xs.学号,xs.姓名</span><br><span class="line"><span class="keyword">from</span> xs</span><br><span class="line"><span class="keyword">where</span> xs.专业 = <span class="string">'网络工程'</span> <span class="keyword">and</span> <span class="keyword">datediff</span>(yy,xs.出生时间,<span class="keyword">getdate</span>()) &lt;= <span class="keyword">all</span></span><br><span class="line">(<span class="keyword">select</span> <span class="keyword">datediff</span>(yy,xs2.出生时间,<span class="keyword">getdate</span>())</span><br><span class="line"><span class="keyword">from</span> xs xs2</span><br><span class="line"><span class="keyword">where</span> xs2.专业 = <span class="string">'网络工程'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">--11.查询选课人数超过5人的课程的课程号，课程名和成绩</span></span><br><span class="line"><span class="keyword">select</span> kc.课程号,kc.课程名,cj.成绩</span><br><span class="line"><span class="keyword">from</span> kc,cj</span><br><span class="line"><span class="keyword">where</span> kc.课程号 = cj.课程号 <span class="keyword">and</span> cj.课程号 <span class="keyword">in</span></span><br><span class="line">(<span class="keyword">select</span> cj2.课程号</span><br><span class="line"><span class="keyword">from</span> cj cj2</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> cj2.课程号</span><br><span class="line"><span class="keyword">having</span> <span class="keyword">count</span>(cj2.学号) &gt; <span class="number">5</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">--12.查询选修了全部课程的学生的学号和姓名（用两种方法实现）</span></span><br><span class="line"><span class="keyword">select</span> xs.学号,xs.姓名</span><br><span class="line"><span class="keyword">from</span> xs</span><br><span class="line"><span class="keyword">where</span> <span class="keyword">not</span> <span class="keyword">exists</span></span><br><span class="line">(<span class="keyword">select</span> *</span><br><span class="line"><span class="keyword">from</span> kc</span><br><span class="line"><span class="keyword">where</span> <span class="keyword">not</span> <span class="keyword">exists</span></span><br><span class="line">(<span class="keyword">select</span> *</span><br><span class="line"><span class="keyword">from</span> cj</span><br><span class="line"><span class="keyword">where</span> cj.学号 = xs.学号 <span class="keyword">and</span> cj.课程号 = kc.课程号))</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> xs.学号,xs.姓名</span><br><span class="line"><span class="keyword">from</span> xs</span><br><span class="line"><span class="keyword">where</span> xs.学号 <span class="keyword">in</span></span><br><span class="line">(<span class="keyword">select</span> cj.学号</span><br><span class="line"><span class="keyword">from</span> cj</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> cj.学号</span><br><span class="line"><span class="keyword">having</span> <span class="keyword">count</span>(*) = </span><br><span class="line">(<span class="keyword">select</span> <span class="keyword">count</span>(*)</span><br><span class="line"><span class="keyword">from</span> kc))</span><br><span class="line"></span><br><span class="line"><span class="comment">--13.查询选课人数最多的课程号和课程名（包含并列）</span></span><br><span class="line"><span class="keyword">select</span> cj.课程号,kc.课程名</span><br><span class="line"><span class="keyword">from</span> kc,cj</span><br><span class="line"><span class="keyword">where</span> kc.课程号 = cj.课程号</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> cj.课程号,kc.课程名</span><br><span class="line"><span class="keyword">having</span> <span class="keyword">count</span>(*) &gt;= <span class="keyword">all</span></span><br><span class="line">(<span class="keyword">select</span> <span class="keyword">count</span>(*)</span><br><span class="line"><span class="keyword">from</span> cj cj2</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> cj2.课程号)</span><br><span class="line"></span><br><span class="line"><span class="comment">--14.查询选修了程明所选修的全部课程的学生的姓名</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">distinct</span> xs.姓名</span><br><span class="line"><span class="keyword">from</span> xs,cj </span><br><span class="line"><span class="keyword">where</span> xs.学号 = cj.学号 <span class="keyword">and</span> <span class="keyword">not</span> <span class="keyword">exists</span></span><br><span class="line">(<span class="keyword">select</span> *</span><br><span class="line"><span class="keyword">from</span> cj cj2,xs xs2</span><br><span class="line"><span class="keyword">where</span> xs2.学号 = cj2.学号 <span class="keyword">and</span> xs2.姓名 = <span class="string">'程明'</span> <span class="keyword">and</span> <span class="keyword">not</span> <span class="keyword">exists</span></span><br><span class="line">(<span class="keyword">select</span> *</span><br><span class="line"><span class="keyword">from</span> cj cj3</span><br><span class="line"><span class="keyword">where</span> cj3.学号 = cj.学号 <span class="keyword">and</span> cj <span class="number">3.</span>课程号 = cj2.课程号))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--二．对罗斯文数据库完成一下查询</span></span><br><span class="line"><span class="comment">--15.查询每个订单购买产品的数量和总金额，显示订单号，数量，总金额</span></span><br><span class="line"><span class="keyword">select</span> [<span class="keyword">Order</span> Details].OrderID,<span class="keyword">sum</span>([<span class="keyword">Order</span> Details].Quantity) 数量,<span class="keyword">sum</span>([<span class="keyword">Order</span> Details].UnitPrice*[<span class="keyword">Order</span> Details].Quantity*(<span class="number">1</span>-[<span class="keyword">Order</span> Details].Discount)) 总金额</span><br><span class="line"><span class="keyword">from</span> [<span class="keyword">Order</span> Details]</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> [<span class="keyword">Order</span> Details].OrderID</span><br><span class="line"></span><br><span class="line"><span class="comment">--16.查询每个员工在7月份处理订单的数量</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">count</span>(Orders.OrderID) 订单数量</span><br><span class="line"><span class="keyword">from</span> Orders <span class="keyword">right</span> <span class="keyword">join</span> Employees <span class="keyword">on</span> (Employees.EmployeeID = Orders.EmployeeID)</span><br><span class="line"><span class="keyword">where</span> <span class="keyword">month</span>(Orders.OrderDate) = <span class="string">'07'</span></span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> Employees.EmployeeID</span><br><span class="line"></span><br><span class="line"><span class="comment">--17.查询每个顾客的订单总数，显示顾客ID，订单总数</span></span><br><span class="line"><span class="keyword">select</span> Customers.CustomerID,<span class="keyword">count</span>(Orders.OrderID) 订单总数</span><br><span class="line"><span class="keyword">from</span> Orders <span class="keyword">right</span> <span class="keyword">join</span> Customers <span class="keyword">on</span> (Customers.CustomerID = Orders.CustomerID)</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> Customers.CustomerID</span><br><span class="line"></span><br><span class="line"><span class="comment">--18.查询每个顾客的订单总数和订单总金额</span></span><br><span class="line"><span class="keyword">select</span> Customers.CustomerID,<span class="keyword">count</span>(<span class="keyword">distinct</span> Orders.OrderID) 订单总数,<span class="keyword">sum</span>([<span class="keyword">Order</span> Details].UnitPrice*[<span class="keyword">Order</span> Details].Quantity*(<span class="number">1</span>-[<span class="keyword">Order</span> Details].Discount)) 总金额</span><br><span class="line"><span class="keyword">from</span> Orders <span class="keyword">right</span> <span class="keyword">join</span> Customers <span class="keyword">on</span> Orders.CustomerID=Customers.CustomerID </span><br><span class="line"><span class="keyword">left</span> <span class="keyword">join</span> [<span class="keyword">Order</span> Details] <span class="keyword">on</span> Orders.OrderID=[<span class="keyword">Order</span> Details].OrderID</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> Customers.CustomerID</span><br><span class="line"></span><br><span class="line"><span class="comment">--19.查询每种产品的卖出总数和总金额</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">sum</span>([<span class="keyword">Order</span> Details].Quantity) 卖出总数,<span class="keyword">sum</span>([<span class="keyword">Order</span> Details].UnitPrice*[<span class="keyword">Order</span> Details].Quantity*(<span class="number">1</span>-[<span class="keyword">Order</span> Details].Discount)) 总金额</span><br><span class="line"><span class="keyword">from</span> [<span class="keyword">Order</span> Details] <span class="keyword">right</span> <span class="keyword">join</span> Products <span class="keyword">on</span> ([<span class="keyword">Order</span> Details].ProductID = Products.ProductID)</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> Products.ProductID</span><br><span class="line"></span><br><span class="line"><span class="comment">--20.查询购买过全部商品的顾客的ID和姓名</span></span><br><span class="line"><span class="keyword">select</span> Customers.CustomerID,Customers.ContactName</span><br><span class="line"><span class="keyword">from</span> Customers</span><br><span class="line"><span class="keyword">where</span> <span class="keyword">not</span> <span class="keyword">exists</span></span><br><span class="line">(<span class="keyword">select</span> *</span><br><span class="line"><span class="keyword">from</span> Products</span><br><span class="line"><span class="keyword">where</span> <span class="keyword">not</span> <span class="keyword">exists</span></span><br><span class="line">(<span class="keyword">select</span> *</span><br><span class="line"><span class="keyword">from</span> Orders,[<span class="keyword">Order</span> Details]</span><br><span class="line"><span class="keyword">where</span> Orders.OrderID = [<span class="keyword">Order</span> Details].OrderID <span class="keyword">and</span> Products.ProductID = [<span class="keyword">Order</span> Details].ProductID <span class="keyword">and</span> Customers.CustomerID = Orders.CustomerID))</span><br><span class="line"></span><br><span class="line"><span class="comment">--三.对books数据库完成以下操作</span></span><br><span class="line"><span class="comment">--21.查询各种类别的图书的类别和数量（包含目前没有图书的类别）</span></span><br><span class="line"><span class="keyword">select</span> BookType.TypeName,<span class="keyword">count</span>(BookInfo.TypeID) 数量</span><br><span class="line"><span class="keyword">from</span> BookType <span class="keyword">left</span> <span class="keyword">join</span> BookInfo <span class="keyword">on</span> (BookType.TypeID = BookInfo.TypeID)</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> BookType.TypeName</span><br><span class="line"></span><br><span class="line"><span class="comment">--22.查询借阅了‘数据库基础’的读者的卡编号和姓名</span></span><br><span class="line"><span class="keyword">select</span> BorrowInfo.CardNo,CardInfo.Reader</span><br><span class="line"><span class="keyword">from</span> BorrowInfo,CardInfo,BookInfo</span><br><span class="line"><span class="keyword">where</span> BorrowInfo.BookNo = BookInfo.BookNo <span class="keyword">and</span> BorrowInfo.CardNo = CardInfo.CardNo <span class="keyword">and</span> BookInfo.BookName = <span class="string">'数据库基础'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--23.查询各个出版社的图书价格超过这个出版社图书的平均价格的图书的编号和名称</span></span><br><span class="line"><span class="keyword">select</span> BookInfo.BookNo,BookInfo.BookName</span><br><span class="line"><span class="keyword">from</span> BookInfo</span><br><span class="line"><span class="keyword">where</span> BookInfo.Price &gt; </span><br><span class="line">(<span class="keyword">select</span> <span class="keyword">avg</span>(b1.Price)</span><br><span class="line"><span class="keyword">from</span> BookInfo b1</span><br><span class="line"><span class="keyword">where</span> BookInfo.Publisher = b1.Publisher)</span><br><span class="line"></span><br><span class="line"><span class="comment">--24.查询没有借过图书的读者的编号和姓名</span></span><br><span class="line"><span class="keyword">select</span> CardInfo.CardNo,CardInfo.Reader</span><br><span class="line"><span class="keyword">from</span> CardInfo</span><br><span class="line"><span class="keyword">where</span> CardInfo.CardNo <span class="keyword">not</span> <span class="keyword">in</span></span><br><span class="line">(<span class="keyword">select</span> BorrowInfo.CardNo</span><br><span class="line"><span class="keyword">from</span> BorrowInfo)</span><br><span class="line"></span><br><span class="line"><span class="comment">--25.查询借阅次数超过2次的读者的编号和姓名</span></span><br><span class="line"><span class="keyword">select</span> CardInfo.CardNo,CardInfo.Reader</span><br><span class="line"><span class="keyword">from</span> CardInfo,BorrowInfo</span><br><span class="line"><span class="keyword">where</span> CardInfo.CardNo = BorrowInfo.CardNo</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> CardInfo.CardNo,CardInfo.Reader</span><br><span class="line"><span class="keyword">having</span> <span class="keyword">count</span>(BorrowInfo.CardNo) &gt; <span class="number">2</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--26.查询借阅卡的类型为老师和研究生的读者人数</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">count</span>(CardInfo.CardNo) 读者人数</span><br><span class="line"><span class="keyword">from</span> CardType,CardInfo</span><br><span class="line"><span class="keyword">where</span> CardInfo.CTypeID = CardType.CTypeID <span class="keyword">and</span> (CardType.TypeName = <span class="string">'教师'</span> <span class="keyword">or</span> CardType.TypeName = <span class="string">'研究生'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">--27.查询没有被借过的图书的编号和名称</span></span><br><span class="line"><span class="keyword">select</span> BookInfo.BookNo,BookInfo.BookName</span><br><span class="line"><span class="keyword">from</span> BookInfo</span><br><span class="line"><span class="keyword">where</span> BookInfo.BookNo <span class="keyword">not</span> <span class="keyword">in</span></span><br><span class="line">(<span class="keyword">select</span> BorrowInfo.BookNo</span><br><span class="line"><span class="keyword">from</span> BorrowInfo)</span><br><span class="line"></span><br><span class="line"><span class="comment">--28.查询没有借阅过英语类型的图书的学生的编号和姓名</span></span><br><span class="line"><span class="keyword">select</span> CardInfo.CardNo,CardInfo.Reader</span><br><span class="line"><span class="keyword">from</span> CardInfo</span><br><span class="line"><span class="keyword">where</span> <span class="keyword">not</span> <span class="keyword">exists</span></span><br><span class="line">(<span class="keyword">select</span> *</span><br><span class="line"><span class="keyword">from</span> BookInfo,BorrowInfo,BookType,CardType</span><br><span class="line"><span class="keyword">where</span> BookType.TypeName=<span class="string">'英语'</span> <span class="keyword">and</span> CardType.TypeName = <span class="string">'学生'</span> <span class="keyword">and</span> CardType.CTypeID = CardInfo.CTypeID <span class="keyword">and</span> BookType.TypeID=BookInfo.TypeID <span class="keyword">and</span> BookInfo.BookNo=BorrowInfo.BookNo <span class="keyword">and</span> BorrowInfo.CardNo=CardInfo.CardNo)</span><br><span class="line"></span><br><span class="line"><span class="comment">--29.查询借阅了‘计算机应用’类别的‘数据库基础’课程的学生的编号读者以及该读者的借阅卡的类型</span></span><br><span class="line"><span class="keyword">select</span> CardInfo.CardNo,CardType.TypeName</span><br><span class="line"><span class="keyword">from</span> CardInfo,CardType,BorrowInfo</span><br><span class="line"><span class="keyword">where</span> CardInfo.CTypeID = CardType.CTypeID <span class="keyword">and</span> BorrowInfo.CardNo = CardInfo.CardNo <span class="keyword">and</span> BorrowInfo.BookNo <span class="keyword">in</span></span><br><span class="line">(<span class="keyword">select</span> BookInfo.BookNo</span><br><span class="line"><span class="keyword">from</span> BookInfo</span><br><span class="line"><span class="keyword">where</span> BookInfo.BookName = <span class="string">'数据库基础'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">--30.查询借阅过了全部图书的读者的编号和姓名</span></span><br><span class="line"><span class="keyword">select</span> CardInfo.CardNo,CardInfo.Reader</span><br><span class="line"><span class="keyword">from</span> CardInfo</span><br><span class="line"><span class="keyword">where</span> <span class="keyword">not</span> <span class="keyword">exists</span></span><br><span class="line">(<span class="keyword">select</span> *</span><br><span class="line"><span class="keyword">from</span> BookInfo</span><br><span class="line"><span class="keyword">where</span> <span class="keyword">not</span> <span class="keyword">exists</span></span><br><span class="line">(<span class="keyword">select</span> *</span><br><span class="line"><span class="keyword">from</span> BorrowInfo</span><br><span class="line"><span class="keyword">where</span> BorrowInfo.CardNo = CardInfo.CardNo <span class="keyword">and</span> BorrowInfo.BookNo = BookInfo.BookNo))</span><br><span class="line"></span><br><span class="line"><span class="comment">--四．对商场数据库完成以下操作</span></span><br><span class="line"><span class="comment">--Market (mno, mname, city)</span></span><br><span class="line"><span class="comment">--Item (ino, iname, type, color)</span></span><br><span class="line"><span class="comment">--Sales (mno, ino, price)</span></span><br><span class="line"><span class="comment">--其中，market表示商场，它的属性依次为商场号、商场名和所在城市；item表示商品，它的属性依次为商品号、商品名、商品类别和颜色；sales表示销售，它的属性依次为商场号、商品号和售价。用SQL语句实现下面的查询要求：</span></span><br><span class="line"><span class="comment">--1.列出北京各个商场都销售，且售价均超过10000 元的商品的商品号和商品名</span></span><br><span class="line"><span class="keyword">select</span> item.ino,item.iname</span><br><span class="line"><span class="keyword">from</span> item</span><br><span class="line"><span class="keyword">where</span> <span class="keyword">not</span> <span class="keyword">exists</span></span><br><span class="line">(<span class="keyword">select</span> *</span><br><span class="line"><span class="keyword">from</span> sales,market</span><br><span class="line"><span class="keyword">where</span> sales.mno = market.mno <span class="keyword">and</span> market.city = <span class="string">'北京'</span> <span class="keyword">and</span> <span class="keyword">not</span> <span class="keyword">exists</span></span><br><span class="line">(<span class="keyword">select</span> *</span><br><span class="line"><span class="keyword">from</span> sales s1</span><br><span class="line"><span class="keyword">where</span> s1.ino = item.ino <span class="keyword">and</span> s1.mno = sales.mno <span class="keyword">and</span> s1.price &gt; <span class="number">10000</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">--2.列出在不同商场中最高售价和最低售价只差超过100 元的商品的商品号、最高售价和最低售价</span></span><br><span class="line"><span class="keyword">select</span> sales.ino,<span class="keyword">max</span>(sales.price) 最高售价,<span class="keyword">min</span>(sales.price) 最低售价</span><br><span class="line"><span class="keyword">from</span> sales</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> sales.ino</span><br><span class="line"><span class="keyword">having</span> <span class="keyword">max</span>(sales.price) - <span class="keyword">min</span>(sales.price) &gt; <span class="number">100</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--3.列出售价超过该商品的平均售价的各个商品的商品号和售价</span></span><br><span class="line"><span class="keyword">select</span> sales.ino,sales.price</span><br><span class="line"><span class="keyword">from</span> sales</span><br><span class="line"><span class="keyword">where</span> sales.price &gt;</span><br><span class="line">(<span class="keyword">select</span> <span class="keyword">avg</span>(s2.price)</span><br><span class="line"><span class="keyword">from</span> sales s2</span><br><span class="line"><span class="keyword">where</span> s2.ino = sales.ino)</span><br><span class="line"></span><br><span class="line"><span class="comment">--4.查询每个每个城市各个商场售价最高的商品的商场名，城市，商品号和商品名</span></span><br><span class="line"><span class="keyword">select</span> market.mname,market.city,sales.ino,item.iname</span><br><span class="line"><span class="keyword">from</span> market,sales,item</span><br><span class="line"><span class="keyword">where</span> market.mno = sales.mno <span class="keyword">and</span> item.ino = sales.ino <span class="keyword">and</span> sales.price &gt;= <span class="keyword">all</span></span><br><span class="line">(<span class="keyword">select</span> s2.price</span><br><span class="line"><span class="keyword">from</span> sales s2</span><br><span class="line"><span class="keyword">where</span> s2.mno = sales.mno)</span><br><span class="line"></span><br><span class="line"><span class="comment">--5.查询销售商品数量最多的商场的商场号，商场名和城市</span></span><br><span class="line"><span class="keyword">select</span> market.mno,market.mname,market.city</span><br><span class="line"><span class="keyword">from</span> market,sales</span><br><span class="line"><span class="keyword">where</span> market.mno = sales.mno</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> market.mno,market.mname,market.city</span><br><span class="line"><span class="keyword">having</span> <span class="keyword">count</span>(sales.ino) &gt;= <span class="keyword">all</span></span><br><span class="line">(<span class="keyword">select</span> <span class="keyword">count</span>(s2.ino)</span><br><span class="line"><span class="keyword">from</span> sales s2</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> s2.mno)</span><br><span class="line"></span><br><span class="line"><span class="comment">--6.查询销售了冰箱和洗衣机的商场号，商场名和城市</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">distinct</span> market.mno,market.mname,market.city</span><br><span class="line"><span class="keyword">from</span> market,sales</span><br><span class="line"><span class="keyword">where</span> market.mno <span class="keyword">in</span> </span><br><span class="line">(<span class="keyword">select</span> s1.mno</span><br><span class="line"><span class="keyword">from</span> sales s1</span><br><span class="line"><span class="keyword">where</span> s1.ino <span class="keyword">in</span></span><br><span class="line">(<span class="keyword">select</span> item.ino</span><br><span class="line"><span class="keyword">from</span> item</span><br><span class="line"><span class="keyword">where</span> item.iname = <span class="string">'冰箱'</span>)</span><br><span class="line"><span class="keyword">and</span> s1.mno <span class="keyword">in</span></span><br><span class="line">(<span class="keyword">select</span> s2.mno</span><br><span class="line"><span class="keyword">from</span> sales s2</span><br><span class="line"><span class="keyword">where</span> s2.ino <span class="keyword">in</span></span><br><span class="line">(<span class="keyword">select</span> item.ino</span><br><span class="line"><span class="keyword">from</span> item</span><br><span class="line"><span class="keyword">where</span> item.iname = <span class="string">'洗衣机'</span>)))</span><br><span class="line"></span><br><span class="line"><span class="comment">--7.查询所有商场都销售了的商品的商品号和商品名。（用两种方法实现）</span></span><br><span class="line"><span class="keyword">select</span> item.ino,item.iname</span><br><span class="line"><span class="keyword">from</span> item</span><br><span class="line"><span class="keyword">where</span> <span class="keyword">not</span> <span class="keyword">exists</span></span><br><span class="line">(<span class="keyword">select</span> *</span><br><span class="line"><span class="keyword">from</span> market</span><br><span class="line"><span class="keyword">where</span> <span class="keyword">not</span> <span class="keyword">exists</span></span><br><span class="line">(<span class="keyword">select</span> *</span><br><span class="line"><span class="keyword">from</span> sales</span><br><span class="line"><span class="keyword">where</span> sales.mno = market.mno <span class="keyword">and</span> sales.ino = item.ino))</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> item.ino,item.iname</span><br><span class="line"><span class="keyword">from</span> item,sales</span><br><span class="line"><span class="keyword">where</span> item.ino = sales.ino</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> sales.ino,item.ino,item.iname</span><br><span class="line"><span class="keyword">having</span> <span class="keyword">count</span>(sales.mno) =</span><br><span class="line">(<span class="keyword">select</span> <span class="keyword">count</span>(market.mno)</span><br><span class="line"><span class="keyword">from</span> market)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Data Base Management System </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Data Base </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>数据库实验二</title>
      <link href="/2019/10/22/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AE%9E%E9%AA%8C%E4%BA%8C/"/>
      <url>/2019/10/22/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AE%9E%E9%AA%8C%E4%BA%8C/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 一：对给定的xsgl数据库完成以下查询要求 ：</span></span><br><span class="line"><span class="comment">--对xs表增加身份证号码属性列，要求是18位的字符类型</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> xs <span class="keyword">add</span> 身份证号 <span class="built_in">char</span>(<span class="number">18</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">--1.查询有直接先行课的课程的课号，课名和先行课号。</span></span><br><span class="line"><span class="keyword">select</span> kc.课程号,kc.先行课号</span><br><span class="line"><span class="keyword">from</span> kc</span><br><span class="line"><span class="keyword">where</span> kc.先行课号 !=<span class="string">''</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--2.查询先行课号是“J001”号课程的课号和课名</span></span><br><span class="line"><span class="keyword">select</span> kc.课程号,kc.课程名</span><br><span class="line"><span class="keyword">from</span> kc</span><br><span class="line"><span class="keyword">where</span> kc.课程号 = <span class="string">'J001'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--3.查询所有的网络工程系姓李，张，王的同学的学号和姓名</span></span><br><span class="line"><span class="keyword">select</span> xs.姓名,xs.学号</span><br><span class="line"><span class="keyword">from</span> xs</span><br><span class="line"><span class="keyword">where</span> xs.专业 = <span class="string">'网络工程'</span><span class="keyword">and</span> xs.姓名 <span class="keyword">like</span> <span class="string">'[李，张，王]%'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--4.查询不在网络工程和信息管理专业学习的学生的学号和姓名，系别，并对查询结果按照专业的升序和学号的降序排序</span></span><br><span class="line"><span class="keyword">select</span> xs.学号,xs.姓名,xs.专业</span><br><span class="line"><span class="keyword">from</span> xs</span><br><span class="line"><span class="keyword">where</span> xs.专业 <span class="keyword">not</span> <span class="keyword">in</span> (<span class="string">'网络工程'</span>,<span class="string">'信息管理'</span>)</span><br><span class="line"><span class="keyword">order</span> <span class="keyword">by</span> xs.专业,xs.学号 <span class="keyword">desc</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--5.查询每门课不及格的学生的人数，显示课号和人数</span></span><br><span class="line"><span class="keyword">select</span> cj.课程号,<span class="keyword">count</span>(*) 人数</span><br><span class="line"><span class="keyword">from</span> cj</span><br><span class="line"><span class="keyword">where</span> cj.成绩 &lt; <span class="number">60</span></span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> cj.课程号</span><br><span class="line"></span><br><span class="line"><span class="comment">--6.查询年龄不在30-35之间的网络工程系的学生的学号，姓名和年龄</span></span><br><span class="line"><span class="keyword">select</span> xs.学号,xs.姓名,<span class="keyword">datediff</span>(dd,出生时间,<span class="keyword">getdate</span>())/<span class="number">365</span> <span class="keyword">as</span> 年龄</span><br><span class="line"><span class="keyword">from</span> xs</span><br><span class="line"><span class="keyword">where</span> <span class="keyword">datediff</span>(dd,出生时间,<span class="keyword">getdate</span>())/<span class="number">365</span> <span class="keyword">not</span> <span class="keyword">between</span> <span class="number">30</span> <span class="keyword">and</span> <span class="number">35</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--7.查询没有选修‘J001’号课程的学生的学号（注意去掉重复的元组）</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">distinct</span> 学号</span><br><span class="line"><span class="keyword">from</span> xs</span><br><span class="line"><span class="keyword">where</span> <span class="keyword">not</span> <span class="keyword">exists</span>(</span><br><span class="line"><span class="keyword">select</span> *</span><br><span class="line"><span class="keyword">from</span> cj</span><br><span class="line"><span class="keyword">where</span> xs.学号 = cj.学号 <span class="keyword">and</span> 课程号 = <span class="string">'J001'</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">--8.查询每个学生的学号，姓名，出生年份，并给出生年份起别名为chusheng </span></span><br><span class="line"><span class="keyword">select</span> xs.学号,xs.姓名,<span class="keyword">datename</span>(<span class="keyword">year</span>,xs.出生时间) chusheng</span><br><span class="line"><span class="keyword">from</span> xs</span><br><span class="line"></span><br><span class="line"><span class="comment">--9. 查询每个学生的学号，姓名和出生日期（出生日期根据身份证号码查询）</span></span><br><span class="line"><span class="keyword">select</span> xs.学号,xs.姓名,<span class="keyword">datediff</span>(yy,<span class="keyword">convert</span>(<span class="built_in">varchar</span>(<span class="number">10</span>),<span class="keyword">cast</span>(<span class="keyword">substring</span>(xs.身份证号,<span class="number">7</span>,<span class="number">8</span>)<span class="keyword">as</span> datetime),<span class="number">120</span>),<span class="keyword">getdate</span>()) 出生日期</span><br><span class="line"><span class="keyword">from</span> xs</span><br><span class="line"></span><br><span class="line"><span class="comment">--10.查询选修J001课程成绩排名第一的同学的学号和成绩</span></span><br><span class="line"><span class="keyword">select</span> top <span class="number">1</span> cj.学号,cj.成绩</span><br><span class="line"><span class="keyword">from</span> cj</span><br><span class="line"><span class="keyword">where</span> cj.课程号 = <span class="string">'J001'</span></span><br><span class="line"><span class="keyword">order</span> <span class="keyword">by</span> cj.成绩 <span class="keyword">desc</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--11. 查询所有名字中含有’明’或者’丽’的同学的学号，姓名</span></span><br><span class="line"><span class="keyword">select</span> xs.学号,xs.姓名</span><br><span class="line"><span class="keyword">from</span> xs</span><br><span class="line"><span class="keyword">where</span> xs.姓名 <span class="keyword">like</span> <span class="string">'%[明,丽]%'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--12. 查询信息管理专业年龄超过20岁的学生的人数</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">count</span>(*)</span><br><span class="line"><span class="keyword">from</span> xs</span><br><span class="line"><span class="keyword">where</span> xs.专业 = <span class="string">'信息管理'</span> <span class="keyword">and</span> <span class="keyword">datediff</span>(dd,出生时间,<span class="keyword">getdate</span>())/<span class="number">365</span> &gt; <span class="number">20</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--13. 查询平均成绩超过80分的课程的课程号和平均成绩</span></span><br><span class="line"><span class="keyword">select</span> cj.课程号,<span class="keyword">avg</span>(cj.成绩)</span><br><span class="line"><span class="keyword">from</span> cj</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> cj.课程号</span><br><span class="line"><span class="keyword">having</span> <span class="keyword">avg</span>(cj.成绩) &gt; <span class="number">80</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--14. 查询每个专业所有姓张的人数</span></span><br><span class="line"><span class="keyword">select</span> xs.专业,<span class="keyword">count</span>(*) 人数</span><br><span class="line"><span class="keyword">from</span> xs</span><br><span class="line"><span class="keyword">where</span> xs.姓名 <span class="keyword">like</span> <span class="string">'张%'</span></span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> xs.专业</span><br><span class="line"></span><br><span class="line"><span class="comment">--15. 查询各种姓氏的人数（假设没有复姓）</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">left</span>(xs.姓名,<span class="number">1</span>),<span class="keyword">count</span>(<span class="keyword">left</span>(xs.姓名,<span class="number">1</span>)) 人数</span><br><span class="line"><span class="keyword">from</span> xs</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> <span class="keyword">left</span>(xs.姓名,<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">--16.查询选修课程超过5门的学生的学号和选课门数，以及平均成绩</span></span><br><span class="line"><span class="keyword">select</span> cj.学号,<span class="keyword">count</span>(cj.课程号) 选课门数,<span class="keyword">avg</span>(cj.成绩) 平均成绩</span><br><span class="line"><span class="keyword">from</span> cj</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> cj.学号</span><br><span class="line"><span class="keyword">having</span> <span class="keyword">count</span>(cj.课程号) &gt; <span class="number">5</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--17. 查询选修‘J001’课程的成绩排名前五的学生的学号和成绩</span></span><br><span class="line"><span class="keyword">select</span> top <span class="number">5</span> cj.学号,cj.成绩</span><br><span class="line"><span class="keyword">from</span> cj</span><br><span class="line"><span class="keyword">where</span> cj.课程号 = <span class="string">'J001'</span></span><br><span class="line"><span class="keyword">order</span> <span class="keyword">by</span> cj.成绩 <span class="keyword">desc</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--18.查询每个学生的最低分和选课门数</span></span><br><span class="line"><span class="keyword">select</span> cj.学号,<span class="keyword">min</span>(cj.成绩) 最低分,<span class="keyword">count</span>(cj.课程号) 选课门数</span><br><span class="line"><span class="keyword">from</span> cj</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> cj.学号</span><br><span class="line"></span><br><span class="line"><span class="comment">--19. 查询各个专业各种性别的人数</span></span><br><span class="line"><span class="keyword">select</span> xs.专业,xs.性别,<span class="keyword">count</span>(xs.性别) 人数</span><br><span class="line"><span class="keyword">from</span> xs</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> xs.专业,xs.性别</span><br><span class="line"></span><br><span class="line"><span class="comment">--20.查询各个专业男生的人数</span></span><br><span class="line"><span class="keyword">select</span> xs.专业,<span class="keyword">count</span>(xs.性别) 人数</span><br><span class="line"><span class="keyword">from</span> xs</span><br><span class="line"><span class="keyword">where</span> xs.性别 = <span class="string">'男'</span></span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> xs.专业</span><br><span class="line"></span><br><span class="line"><span class="comment">--21. 列出有二门以上课程（含两门）不及格的学生的学号及该学生的平均成绩；</span></span><br><span class="line"><span class="comment">/*select cj.学号,avg(cj.成绩) 平均成绩</span></span><br><span class="line"><span class="comment">from cj</span></span><br><span class="line"><span class="comment">where cj.成绩 &lt; 60</span></span><br><span class="line"><span class="comment">group by cj.学号</span></span><br><span class="line"><span class="comment">having count(cj.成绩) &gt;= 2</span></span><br><span class="line"><span class="comment">单表无法实现，因为where执行之后只剩不及格科目成绩求平均值*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--22. 显示学号第五位或者第六位是1、2、3、4或者9的学生的学号、姓名、性别、年龄及专业；</span></span><br><span class="line"><span class="keyword">select</span> xs.学号,xs.姓名,xs.性别,<span class="keyword">datediff</span>(yy,xs.出生时间,<span class="keyword">getdate</span>()) 年龄,xs.专业</span><br><span class="line"><span class="keyword">from</span> xs</span><br><span class="line"><span class="keyword">where</span> xs.学号 <span class="keyword">like</span> <span class="string">'____[1,2,3,4,9]%'</span> <span class="keyword">or</span> xs.学号 <span class="keyword">like</span> <span class="string">'_____[1,2,3,4,9]%'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--23. 显示选修课程数最多的学号及选修课程数最少的学号；</span></span><br><span class="line"><span class="keyword">select</span> cj.学号</span><br><span class="line"><span class="keyword">from</span> cj</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> cj.学号</span><br><span class="line"><span class="keyword">having</span> <span class="keyword">count</span>(cj.课程号)&gt;=<span class="keyword">all</span>(</span><br><span class="line"><span class="keyword">select</span> <span class="keyword">count</span>(cj.课程号)</span><br><span class="line"><span class="keyword">from</span> cj</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> cj.学号</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> cj.学号</span><br><span class="line"><span class="keyword">from</span> cj</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> cj.学号</span><br><span class="line"><span class="keyword">having</span> <span class="keyword">count</span>(cj.课程号)&lt;=<span class="keyword">all</span>(</span><br><span class="line"><span class="keyword">select</span> <span class="keyword">count</span>(cj.课程号)</span><br><span class="line"><span class="keyword">from</span> cj</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> cj.学号</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">--24. 查询选修了A001或者A002或者J001或者J002课程的学生的学号和课程号</span></span><br><span class="line"><span class="keyword">select</span> cj.学号,cj.课程号</span><br><span class="line"><span class="keyword">from</span> cj</span><br><span class="line"><span class="keyword">where</span> cj.课程号 <span class="keyword">in</span> (<span class="string">'A001'</span>,<span class="string">'A002'</span>,<span class="string">'J001'</span>,<span class="string">'J002'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">--25. 查询姓名为两个字的不同姓氏的人数，输出姓氏，人数。</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">left</span>(xs.姓名,<span class="number">1</span>) 姓氏,<span class="keyword">count</span>(<span class="keyword">left</span>(xs.姓名,<span class="number">1</span>)) 人数</span><br><span class="line"><span class="keyword">from</span> xs</span><br><span class="line"><span class="keyword">where</span> <span class="keyword">len</span>(xs.姓名) = <span class="number">2</span></span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> <span class="keyword">left</span>(xs.姓名,<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">--二：对书上第二章课后习题的4的SPJ数据库各表查询： </span></span><br><span class="line"><span class="comment">--1.求供应工程J1零件的供应商号码SNO</span></span><br><span class="line"><span class="keyword">select</span> SPJ.sno</span><br><span class="line"><span class="keyword">from</span> SPJ</span><br><span class="line"><span class="keyword">where</span> SPJ.jno=<span class="string">'J1'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--2.求查询每个工程使用不同供应商的零件的个数</span></span><br><span class="line"><span class="keyword">select</span> SPJ.jno,SPJ.pno,<span class="keyword">sum</span>(SPJ.qty) 个数</span><br><span class="line"><span class="keyword">from</span> SPJ</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> SPJ.jno,SPJ.pno</span><br><span class="line"></span><br><span class="line"><span class="comment">--3.求供应工程使用零件P3数量超过200的工程号JNO</span></span><br><span class="line"><span class="keyword">select</span> SPJ.jno</span><br><span class="line"><span class="keyword">from</span> SPJ</span><br><span class="line"><span class="keyword">where</span> SPJ.pno = <span class="string">'P3'</span> <span class="keyword">and</span> SPJ.qit &gt; <span class="number">200</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--4.求颜色为红色和蓝色的零件的零件号和名称</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">distinct</span> pno, pname</span><br><span class="line"><span class="keyword">from</span> p</span><br><span class="line"><span class="keyword">where</span> color <span class="keyword">in</span> (<span class="string">'蓝'</span>,<span class="string">'红'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">--5.求使用零件数量在200-400之间的工程号</span></span><br><span class="line"><span class="keyword">select</span> SPJ.jno</span><br><span class="line"><span class="keyword">from</span> SPJ</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> SPJ.jno</span><br><span class="line"><span class="keyword">having</span> <span class="keyword">sum</span>(SPJ.qty) <span class="keyword">between</span> <span class="number">200</span> <span class="keyword">and</span> <span class="number">400</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--6.查询每种零件的零件号，以及使用该零件的工程数。</span></span><br><span class="line"><span class="keyword">select</span> SPJ.pno,<span class="keyword">count</span>(<span class="keyword">DISTINCT</span> SPJ.jno) 工程数</span><br><span class="line"><span class="keyword">from</span> SPJ</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> SPJ.pno</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Data Base Management System </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Data Base </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>数据结构实验四</title>
      <link href="/2019/10/21/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%AE%9E%E9%AA%8C%E5%9B%9B/"/>
      <url>/2019/10/21/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%AE%9E%E9%AA%8C%E5%9B%9B/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h1><h3 id="对一个稀疏矩阵进行转置"><a href="#对一个稀疏矩阵进行转置" class="headerlink" title="对一个稀疏矩阵进行转置"></a>对一个稀疏矩阵进行转置</h3><h3 id="要求用十字链表存储"><a href="#要求用十字链表存储" class="headerlink" title="要求用十字链表存储"></a>要求用十字链表存储</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">int</span> ElemType;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">OLNode</span>&#123;</span></span><br><span class="line"><span class="keyword">int</span> i, j;</span><br><span class="line">ElemType e;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">OLNode</span> *<span class="title">right</span>, *<span class="title">down</span>;</span></span><br><span class="line">&#125;OLNode, *OLink;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">CrossList</span>&#123;</span></span><br><span class="line">OLink *rhead, *chead;</span><br><span class="line"><span class="keyword">int</span> mu, nu, tu;</span><br><span class="line">&#125;CrossList, *pCrossList;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">CreateSMatrix_OL</span><span class="params">(pCrossList M)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">//输入行数列数以及非零元个数</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"请输入行数，列数，非零元素个数：\n"</span>);</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d%d%d"</span>, &amp;M-&gt;mu, &amp;M-&gt;nu, &amp;M-&gt;tu);</span><br><span class="line"><span class="keyword">if</span> (M-&gt;tu * <span class="number">20</span> &gt; M-&gt;mu * M-&gt;nu)</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"非稀疏矩阵，不建议使用此方法！\n"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//动态申请行和列指针数组</span></span><br><span class="line">M-&gt;rhead = (OLink *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(OLink)*M-&gt;mu);</span><br><span class="line"><span class="keyword">if</span> (M-&gt;rhead == <span class="literal">NULL</span>)</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">M-&gt;chead = (OLink *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(OLink)*M-&gt;nu);</span><br><span class="line"><span class="keyword">if</span> (M-&gt;chead == <span class="literal">NULL</span>)&#123;</span><br><span class="line"><span class="built_in">free</span>(M-&gt;rhead);</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//初始化两个数组</span></span><br><span class="line"><span class="keyword">int</span> i, j;</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">1</span>; i &lt;= M-&gt;mu; i++)</span><br><span class="line">M-&gt;rhead[i] = <span class="literal">NULL</span>;</span><br><span class="line"><span class="keyword">for</span> (j = <span class="number">1</span>; j &lt;= M-&gt;nu; j++)</span><br><span class="line">M-&gt;chead[j] = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//创建节点并连接到十字链表上</span></span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">1</span>; i &lt;= M-&gt;tu; i++)&#123;</span><br><span class="line">OLink p = (OLink)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(OLNode));</span><br><span class="line"><span class="keyword">if</span> (p == <span class="literal">NULL</span>)</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"请输入非零元素的行，列，值\n"</span>);</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d%d%d"</span>, &amp;p-&gt;i, &amp;p-&gt;j, &amp;p-&gt;e);</span><br><span class="line">p-&gt;down = <span class="literal">NULL</span>;</span><br><span class="line">p-&gt;right = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//连接行</span></span><br><span class="line"><span class="comment">//如果该行并没有连接任何节点（NULL）或者该行连接的第一个节点的列值大于当前待连接的节点则直接将当前节点连接到该行第一个节点的位置</span></span><br><span class="line"><span class="keyword">if</span> (M-&gt;rhead[p-&gt;i] == <span class="literal">NULL</span> || M-&gt;rhead[p-&gt;i]-&gt;j &gt; p-&gt;j)&#123;</span><br><span class="line">p-&gt;right = M-&gt;rhead[p-&gt;i];</span><br><span class="line">M-&gt;rhead[p-&gt;i] = p;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//否则遍历该行找到合适的位置插入</span></span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">OLink q = M-&gt;rhead[p-&gt;i];<span class="comment">//指向第一个节点，从第一个节点开始遍历</span></span><br><span class="line"><span class="keyword">while</span> (q-&gt;right != <span class="literal">NULL</span> &amp;&amp; q-&gt;right-&gt;j &lt; p-&gt;j)<span class="comment">//遍历到前一个节点</span></span><br><span class="line">q = q-&gt;right;</span><br><span class="line">p-&gt;right = q-&gt;right;</span><br><span class="line">q-&gt;right = p;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//连接列</span></span><br><span class="line"><span class="keyword">if</span> (M-&gt;chead[p-&gt;j] == <span class="literal">NULL</span> || M-&gt;chead[p-&gt;j]-&gt;i &gt; p-&gt;i) &#123;</span><br><span class="line">p-&gt;down = M-&gt;chead[p-&gt;j];</span><br><span class="line">M-&gt;chead[p-&gt;j] = p;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">OLink pNodeTravel = M-&gt;chead[p-&gt;j];</span><br><span class="line"><span class="keyword">while</span> (pNodeTravel-&gt;down != <span class="literal">NULL</span> &amp;&amp; pNodeTravel-&gt;down-&gt;i &lt; p-&gt;i)</span><br><span class="line">pNodeTravel = pNodeTravel-&gt;down;</span><br><span class="line">p-&gt;down = pNodeTravel-&gt;down;</span><br><span class="line">pNodeTravel-&gt;down = p;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">TransSMatrix_OL</span><span class="params">(CrossList M, CrossList *T)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">T-&gt;mu = M.nu;</span><br><span class="line">T-&gt;nu = M.mu;</span><br><span class="line">T-&gt;tu = M.tu;</span><br><span class="line"></span><br><span class="line"><span class="comment">//Q的头节点的初始化 </span></span><br><span class="line"><span class="keyword">if</span> (!(T-&gt;rhead = (OLink *)<span class="built_in">malloc</span>((T-&gt;mu + <span class="number">1</span>) * <span class="keyword">sizeof</span>(OLink))))&#123;<span class="built_in">printf</span>(<span class="string">"内存空间申请失败！"</span>);<span class="keyword">return</span>;&#125;</span><br><span class="line"><span class="keyword">if</span> (!(T-&gt;chead = (OLink *)<span class="built_in">malloc</span>((T-&gt;nu + <span class="number">1</span>) * <span class="keyword">sizeof</span>(OLink)))) &#123; <span class="built_in">printf</span>(<span class="string">"内存空间申请失败！"</span>); <span class="keyword">return</span>; &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= T-&gt;mu; i++)</span><br><span class="line">T-&gt;rhead[i] = <span class="literal">NULL</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= T-&gt;nu; i++)</span><br><span class="line">T-&gt;chead[i] = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (!M.tu)</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">OLink p, q, q_row, q_col;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= M.nu; i++)&#123;</span><br><span class="line"><span class="keyword">if</span> (M.chead[i])&#123;</span><br><span class="line"><span class="keyword">for</span> (q = M.chead[i]; q;) &#123;</span><br><span class="line"><span class="keyword">if</span> (!(p = (OLink)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(OLNode))))&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"内存空间申请失败！"</span>);</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line">p-&gt;i = q-&gt;j;</span><br><span class="line">p-&gt;j = q-&gt;i;</span><br><span class="line">p-&gt;e = q-&gt;e;</span><br><span class="line">p-&gt;right = p-&gt;down = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">q_row = T-&gt;rhead[i];</span><br><span class="line"><span class="keyword">if</span> (<span class="literal">NULL</span> == T-&gt;rhead[i])</span><br><span class="line">T-&gt;rhead[i] = p;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">while</span> (q_row-&gt;right)</span><br><span class="line">q_row = q_row-&gt;right;</span><br><span class="line">q_row-&gt;right = p;</span><br><span class="line">&#125;</span><br><span class="line">q_col = T-&gt;chead[p-&gt;j];</span><br><span class="line"><span class="keyword">if</span> (T-&gt;chead[p-&gt;j] == <span class="literal">NULL</span>)</span><br><span class="line">T-&gt;chead[p-&gt;j] = p;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">while</span> (q_col-&gt;down)</span><br><span class="line">q_col = q_col-&gt;down;</span><br><span class="line">q_col-&gt;down = p;</span><br><span class="line">&#125;</span><br><span class="line">q = q-&gt;down;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">OutputSMatrix_OL</span><span class="params">(pCrossList M, <span class="keyword">char</span> s[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> i, j;</span><br><span class="line">OLink p;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"----------------------\n"</span>);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%s矩阵为：\n"</span>, s);</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">1</span>; i &lt;= M-&gt;mu; i++)&#123;</span><br><span class="line">p = M-&gt;rhead[i];</span><br><span class="line"><span class="keyword">for</span> (j = <span class="number">1</span>; j &lt;= M-&gt;nu; j++)&#123;</span><br><span class="line"><span class="keyword">if</span> (p != <span class="literal">NULL</span> &amp;&amp; p-&gt;j == j) &#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d "</span>, p-&gt;e);</span><br><span class="line">p = p-&gt;right;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"0 "</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"----------------------\n"</span>);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">CrossList M, T;</span><br><span class="line">CreateSMatrix_OL(&amp;M);</span><br><span class="line"><span class="keyword">char</span> s1[] = <span class="string">"原始"</span>;</span><br><span class="line">OutputSMatrix_OL(&amp;M, s1);</span><br><span class="line"></span><br><span class="line">TransSMatrix_OL(M, &amp;T);</span><br><span class="line"><span class="keyword">char</span> s2[] = <span class="string">"转置后"</span>;</span><br><span class="line">OutputSMatrix_OL(&amp;T, s2);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="运行界面"><a href="#运行界面" class="headerlink" title="运行界面"></a>运行界面</h2><p><img alt="sy" data-src="https://s2.ax1x.com/2019/11/04/KzwEFO.png" class="lazyload"></p>]]></content>
      
      
      <categories>
          
          <category> Algorithms and Data Structures </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Data Structure Experiment </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>数据结构实验三</title>
      <link href="/2019/10/21/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%AE%9E%E9%AA%8C%E4%B8%89/"/>
      <url>/2019/10/21/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%AE%9E%E9%AA%8C%E4%B8%89/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h1><h2 id="对一个对称矩阵进行压缩及解压缩"><a href="#对一个对称矩阵进行压缩及解压缩" class="headerlink" title="对一个对称矩阵进行压缩及解压缩"></a>对一个对称矩阵进行压缩及解压缩</h2><p><strong>注意</strong></p><p><strong>压缩时：</strong></p><p>第一步：完整地显示矩阵</p><p><img alt="img" data-src="https://s2.ax1x.com/2019/11/04/KzQ6r4.jpg" class="lazyload"></p><p>第二步： 完整地显示一维数组</p><p><img alt="img" data-src="https://s2.ax1x.com/2019/11/04/KzMO3T.png" class="lazyload"></p><p>———————————————————————————————————————</p><p><strong>解压缩时：</strong></p><p>第一步：完整地显示一维数组</p><p><img alt="img" data-src="https://s2.ax1x.com/2019/11/04/KzMO3T.png" class="lazyload"></p><p>第二步：完整地显示矩阵</p><p><img alt="img" data-src="https://s2.ax1x.com/2019/11/04/KzQ6r4.jpg" class="lazyload"></p><h2 id><a href="#" class="headerlink" title=" "></a> </h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> Matrix_Num 5</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">input_Matrix</span><span class="params">(<span class="keyword">int</span> *Matrix)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"输入方阵：\n"</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; Matrix_Num; i++) &#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; Matrix_Num; j++) &#123;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;Matrix[Matrix_Num * i + j]);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">show1D</span><span class="params">(<span class="keyword">int</span> Compressed[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; Matrix_Num*(Matrix_Num + <span class="number">1</span>) / <span class="number">2</span>; i++)</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d "</span>, Compressed[i]);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">show2D</span><span class="params">(<span class="keyword">int</span> Matrix[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; Matrix_Num; i++) &#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; Matrix_Num; j++) &#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d "</span>, Matrix[Matrix_Num*i + j]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">compress</span><span class="params">(<span class="keyword">int</span> Matrix[],<span class="keyword">int</span> *Compressed)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> n = <span class="number">0</span>;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"您输入的方阵为：\n"</span>);</span><br><span class="line">show2D(Matrix);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"压缩后\n"</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; Matrix_Num; i++)</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt;= i; j++)</span><br><span class="line">Compressed[n++] = Matrix[Matrix_Num*i + j];</span><br><span class="line">show1D(Compressed);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">uncompress_O1</span><span class="params">(<span class="keyword">int</span> Compressed[],<span class="keyword">int</span> *Uncompressed)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"压缩方阵为：\n"</span>);</span><br><span class="line">show1D(Compressed);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"解压缩后\n"</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; Matrix_Num * (Matrix_Num + <span class="number">1</span>) / <span class="number">2</span>; k++) &#123;</span><br><span class="line"><span class="keyword">int</span> i, j;</span><br><span class="line">i = <span class="built_in">ceil</span>(<span class="built_in">sqrt</span>(<span class="number">2.25</span> + <span class="number">2</span> * k) - <span class="number">0.5</span>);</span><br><span class="line">j = k - i * (i - <span class="number">1</span>) / <span class="number">2</span>;</span><br><span class="line">i--;</span><br><span class="line">Uncompressed[Matrix_Num*i + j] = Compressed[k];</span><br><span class="line">Uncompressed[Matrix_Num*j + i] = Compressed[k];</span><br><span class="line">&#125;</span><br><span class="line">show2D(Uncompressed);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">uncompress_On</span><span class="params">(<span class="keyword">int</span> Compressed[], <span class="keyword">int</span> *Uncompressed)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"压缩方阵为：\n"</span>);</span><br><span class="line">show1D(Compressed);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"解压缩后\n"</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; Matrix_Num * (Matrix_Num + <span class="number">1</span>) / <span class="number">2</span>; k++) &#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= Matrix_Num; i++) &#123;</span><br><span class="line"><span class="keyword">int</span> j = k - i * (i - <span class="number">1</span>) / <span class="number">2</span> + <span class="number">1</span>;</span><br><span class="line"><span class="keyword">if</span> (i &gt;= j &amp;&amp; j &gt;= <span class="number">1</span>) &#123;</span><br><span class="line">Uncompressed[Matrix_Num*(i - <span class="number">1</span>) + (j - <span class="number">1</span>)] = Compressed[k];</span><br><span class="line">Uncompressed[Matrix_Num*(j - <span class="number">1</span>) + (i - <span class="number">1</span>)] = Compressed[k];</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">show2D(Uncompressed);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">uncompress_On2</span><span class="params">(<span class="keyword">int</span> Compressed[], <span class="keyword">int</span> *Uncompressed)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"压缩方阵为：\n"</span>);</span><br><span class="line">show1D(Compressed);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"解压缩后\n"</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; Matrix_Num * (Matrix_Num + <span class="number">1</span>) / <span class="number">2</span>; k++) &#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= Matrix_Num; i++) &#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= i; j++) &#123;</span><br><span class="line"><span class="keyword">if</span> (k == i * (i - <span class="number">1</span>) / <span class="number">2</span> + j - <span class="number">1</span>) &#123;</span><br><span class="line">Uncompressed[Matrix_Num*(i - <span class="number">1</span>) + (j - <span class="number">1</span>)] = Compressed[k];</span><br><span class="line">Uncompressed[Matrix_Num*(j - <span class="number">1</span>) + (i - <span class="number">1</span>)] = Compressed[k];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">show2D(Uncompressed);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> M[Matrix_Num * Matrix_Num];</span><br><span class="line"><span class="keyword">int</span> C[Matrix_Num * (Matrix_Num + <span class="number">1</span>) / <span class="number">2</span>];</span><br><span class="line"><span class="keyword">int</span> U[Matrix_Num * Matrix_Num];</span><br><span class="line">input_Matrix(M);</span><br><span class="line">compress(M, C);</span><br><span class="line">uncompress_O1(C, U);</span><br><span class="line"><span class="comment">//uncompress_On(C, U);</span></span><br><span class="line"><span class="comment">//uncompress_On2(C, U);</span></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="运行界面"><a href="#运行界面" class="headerlink" title="运行界面"></a>运行界面</h2><p><img alt="img" data-src="https://s2.ax1x.com/2019/11/04/KzUyfH.png" class="lazyload"></p>]]></content>
      
      
      <categories>
          
          <category> Algorithms and Data Structures </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Data Structure Experiment </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>数据库实验一</title>
      <link href="/2019/10/11/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AE%9E%E9%AA%8C%E4%B8%80/"/>
      <url>/2019/10/11/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AE%9E%E9%AA%8C%E4%B8%80/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 一：对给定的xsgl数据库完成以下查询要求 ：</span></span><br><span class="line"><span class="comment">--对xs表增加身份证号码属性列，要求是18位的字符类型</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> xs <span class="keyword">add</span> 身份证号 <span class="built_in">char</span>(<span class="number">18</span>)</span><br><span class="line"> </span><br><span class="line"><span class="comment">--1.查询有直接先行课的课程的课号，课名和先行课号。</span></span><br><span class="line"><span class="keyword">select</span> kc.课程号,kc.先行课号</span><br><span class="line"><span class="keyword">from</span> kc</span><br><span class="line"><span class="keyword">where</span> kc.先行课号 !=<span class="string">''</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">--2.查询先行课号是“J001”号课程的课号和课名</span></span><br><span class="line"><span class="keyword">select</span> kc.课程号,kc.课程名</span><br><span class="line"><span class="keyword">from</span> kc</span><br><span class="line"><span class="keyword">where</span> kc.课程号 = <span class="string">'J001'</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">--3.查询所有的网络工程系姓李，张，王的同学的学号和姓名</span></span><br><span class="line"><span class="keyword">select</span> xs.姓名,xs.学号</span><br><span class="line"><span class="keyword">from</span> xs</span><br><span class="line"><span class="keyword">where</span> xs.专业 = <span class="string">'网络工程'</span><span class="keyword">and</span> xs.姓名 <span class="keyword">like</span> <span class="string">'[李，张，王]%'</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">--4.查询不在网络工程和信息管理专业学习的学生的学号和姓名，系别，并对查询结果按照专业的升序和学号的降序排序</span></span><br><span class="line"><span class="keyword">select</span> xs.学号,xs.姓名,xs.专业</span><br><span class="line"><span class="keyword">from</span> xs</span><br><span class="line"><span class="keyword">where</span> xs.专业 <span class="keyword">not</span> <span class="keyword">in</span> (<span class="string">'网络工程'</span>,<span class="string">'信息管理'</span>)</span><br><span class="line"><span class="keyword">order</span> <span class="keyword">by</span> xs.专业,xs.学号 <span class="keyword">desc</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">--5.查询每门课不及格的学生的人数，显示课号和人数</span></span><br><span class="line"><span class="keyword">select</span> cj.课程号,<span class="keyword">count</span>(*) 人数</span><br><span class="line"><span class="keyword">from</span> cj</span><br><span class="line"><span class="keyword">where</span> cj.成绩 &lt; <span class="number">60</span></span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> cj.课程号</span><br><span class="line"> </span><br><span class="line"><span class="comment">--6.查询年龄不在30-35之间的网络工程系的学生的学号，姓名和年龄</span></span><br><span class="line"><span class="keyword">select</span> xs.学号,xs.姓名,<span class="keyword">datediff</span>(dd,出生时间,<span class="keyword">getdate</span>())/<span class="number">365</span> <span class="keyword">as</span> 年龄</span><br><span class="line"><span class="keyword">from</span> xs</span><br><span class="line"><span class="keyword">where</span> <span class="keyword">datediff</span>(dd,出生时间,<span class="keyword">getdate</span>())/<span class="number">365</span> <span class="keyword">not</span> <span class="keyword">between</span> <span class="number">30</span> <span class="keyword">and</span> <span class="number">35</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">--7.查询没有选修‘J001’号课程的学生的学号（注意去掉重复的元组）</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">distinct</span> 学号</span><br><span class="line"><span class="keyword">from</span> xs</span><br><span class="line"><span class="keyword">where</span> <span class="keyword">not</span> <span class="keyword">exists</span>(</span><br><span class="line"><span class="keyword">select</span> *</span><br><span class="line"><span class="keyword">from</span> cj</span><br><span class="line"><span class="keyword">where</span> xs.学号 = cj.学号 <span class="keyword">and</span> 课程号 = <span class="string">'J001'</span></span><br><span class="line">)</span><br><span class="line"> </span><br><span class="line"><span class="comment">--8.查询每个学生的学号，姓名，出生年份，并给出生年份起别名为chusheng </span></span><br><span class="line"><span class="keyword">select</span> xs.学号,xs.姓名,<span class="keyword">datename</span>(<span class="keyword">year</span>,xs.出生时间) chusheng</span><br><span class="line"><span class="keyword">from</span> xs</span><br><span class="line"> </span><br><span class="line"><span class="comment">--9. 查询每个学生的学号，姓名和出生日期（出生日期根据身份证号码查询）</span></span><br><span class="line"><span class="keyword">select</span> xs.学号,xs.姓名,<span class="keyword">datediff</span>(yy,<span class="keyword">convert</span>(<span class="built_in">varchar</span>(<span class="number">10</span>),<span class="keyword">cast</span>(<span class="keyword">substring</span>(xs.身份证号,<span class="number">7</span>,<span class="number">8</span>)<span class="keyword">as</span> datetime),<span class="number">120</span>),<span class="keyword">getdate</span>()) 出生日期</span><br><span class="line"><span class="keyword">from</span> xs</span><br><span class="line"> </span><br><span class="line"><span class="comment">--10.查询选修J001课程成绩排名第一的同学的学号和成绩</span></span><br><span class="line"><span class="keyword">select</span> top <span class="number">1</span> cj.学号,cj.成绩</span><br><span class="line"><span class="keyword">from</span> cj</span><br><span class="line"><span class="keyword">where</span> cj.课程号 = <span class="string">'J001'</span></span><br><span class="line"><span class="keyword">order</span> <span class="keyword">by</span> cj.成绩 <span class="keyword">desc</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">--11. 查询所有名字中含有’明’或者’丽’的同学的学号，姓名</span></span><br><span class="line"><span class="keyword">select</span> xs.学号,xs.姓名</span><br><span class="line"><span class="keyword">from</span> xs</span><br><span class="line"><span class="keyword">where</span> xs.姓名 <span class="keyword">like</span> <span class="string">'%[明,丽]%'</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">--12. 查询信息管理专业年龄超过20岁的学生的人数</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">count</span>(*)</span><br><span class="line"><span class="keyword">from</span> xs</span><br><span class="line"><span class="keyword">where</span> xs.专业 = <span class="string">'信息管理'</span> <span class="keyword">and</span> <span class="keyword">datediff</span>(dd,出生时间,<span class="keyword">getdate</span>())/<span class="number">365</span> &gt; <span class="number">20</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">--13. 查询平均成绩超过80分的课程的课程号和平均成绩</span></span><br><span class="line"><span class="keyword">select</span> cj.课程号,<span class="keyword">avg</span>(cj.成绩)</span><br><span class="line"><span class="keyword">from</span> cj</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> cj.课程号</span><br><span class="line"><span class="keyword">having</span> <span class="keyword">avg</span>(cj.成绩) &gt; <span class="number">80</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">--14. 查询每个专业所有姓张的人数</span></span><br><span class="line"><span class="keyword">select</span> xs.专业,<span class="keyword">count</span>(*) 人数</span><br><span class="line"><span class="keyword">from</span> xs</span><br><span class="line"><span class="keyword">where</span> xs.姓名 <span class="keyword">like</span> <span class="string">'张%'</span></span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> xs.专业</span><br><span class="line"> </span><br><span class="line"><span class="comment">--15. 查询各种姓氏的人数（假设没有复姓）</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">left</span>(xs.姓名,<span class="number">1</span>),<span class="keyword">count</span>(<span class="keyword">left</span>(xs.姓名,<span class="number">1</span>)) 人数</span><br><span class="line"><span class="keyword">from</span> xs</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> <span class="keyword">left</span>(xs.姓名,<span class="number">1</span>)</span><br><span class="line"> </span><br><span class="line"><span class="comment">--16.查询选修课程超过5门的学生的学号和选课门数，以及平均成绩</span></span><br><span class="line"><span class="keyword">select</span> cj.学号,<span class="keyword">count</span>(cj.课程号) 选课门数,<span class="keyword">avg</span>(cj.成绩) 平均成绩</span><br><span class="line"><span class="keyword">from</span> cj</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> cj.学号</span><br><span class="line"><span class="keyword">having</span> <span class="keyword">count</span>(cj.课程号) &gt; <span class="number">5</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">--17. 查询选修‘J001’课程的成绩排名前五的学生的学号和成绩</span></span><br><span class="line"><span class="keyword">select</span> top <span class="number">5</span> cj.学号,cj.成绩</span><br><span class="line"><span class="keyword">from</span> cj</span><br><span class="line"><span class="keyword">where</span> cj.课程号 = <span class="string">'J001'</span></span><br><span class="line"><span class="keyword">order</span> <span class="keyword">by</span> cj.成绩 <span class="keyword">desc</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">--18.查询每个学生的最低分和选课门数</span></span><br><span class="line"><span class="keyword">select</span> cj.学号,<span class="keyword">min</span>(cj.成绩) 最低分,<span class="keyword">count</span>(cj.课程号) 选课门数</span><br><span class="line"><span class="keyword">from</span> cj</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> cj.学号</span><br><span class="line"> </span><br><span class="line"><span class="comment">--19. 查询各个专业各种性别的人数</span></span><br><span class="line"><span class="keyword">select</span> xs.专业,xs.性别,<span class="keyword">count</span>(xs.性别) 人数</span><br><span class="line"><span class="keyword">from</span> xs</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> xs.专业,xs.性别</span><br><span class="line"> </span><br><span class="line"><span class="comment">--20.查询各个专业男生的人数</span></span><br><span class="line"><span class="keyword">select</span> xs.专业,<span class="keyword">count</span>(xs.性别) 人数</span><br><span class="line"><span class="keyword">from</span> xs</span><br><span class="line"><span class="keyword">where</span> xs.性别 = <span class="string">'男'</span></span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> xs.专业</span><br><span class="line"> </span><br><span class="line"><span class="comment">--21. 列出有二门以上课程（含两门）不及格的学生的学号及该学生的平均成绩；</span></span><br><span class="line"><span class="comment">/*select cj.学号,avg(cj.成绩) 平均成绩</span></span><br><span class="line"><span class="comment">from cj</span></span><br><span class="line"><span class="comment">where cj.成绩 &lt; 60</span></span><br><span class="line"><span class="comment">group by cj.学号</span></span><br><span class="line"><span class="comment">having count(cj.成绩) &gt;= 2</span></span><br><span class="line"><span class="comment">单表无法实现，因为where执行之后只剩不及格科目成绩求平均值*/</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">--22. 显示学号第五位或者第六位是1、2、3、4或者9的学生的学号、姓名、性别、年龄及专业；</span></span><br><span class="line"><span class="keyword">select</span> xs.学号,xs.姓名,xs.性别,<span class="keyword">datediff</span>(yy,xs.出生时间,<span class="keyword">getdate</span>()) 年龄,xs.专业</span><br><span class="line"><span class="keyword">from</span> xs</span><br><span class="line"><span class="keyword">where</span> xs.学号 <span class="keyword">like</span> <span class="string">'____[1,2,3,4,9]%'</span> <span class="keyword">or</span> xs.学号 <span class="keyword">like</span> <span class="string">'_____[1,2,3,4,9]%'</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">--23. 显示选修课程数最多的学号及选修课程数最少的学号；</span></span><br><span class="line"><span class="keyword">select</span> cj.学号</span><br><span class="line"><span class="keyword">from</span> cj</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> cj.学号</span><br><span class="line"><span class="keyword">having</span> <span class="keyword">count</span>(cj.课程号)&gt;=<span class="keyword">all</span>(</span><br><span class="line"><span class="keyword">select</span> <span class="keyword">count</span>(cj.课程号)</span><br><span class="line"><span class="keyword">from</span> cj</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> cj.学号</span><br><span class="line">)</span><br><span class="line"> </span><br><span class="line"><span class="keyword">select</span> cj.学号</span><br><span class="line"><span class="keyword">from</span> cj</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> cj.学号</span><br><span class="line"><span class="keyword">having</span> <span class="keyword">count</span>(cj.课程号)&lt;=<span class="keyword">all</span>(</span><br><span class="line"><span class="keyword">select</span> <span class="keyword">count</span>(cj.课程号)</span><br><span class="line"><span class="keyword">from</span> cj</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> cj.学号</span><br><span class="line">)</span><br><span class="line"> </span><br><span class="line"><span class="comment">--24. 查询选修了A001或者A002或者J001或者J002课程的学生的学号和课程号</span></span><br><span class="line"><span class="keyword">select</span> cj.学号,cj.课程号</span><br><span class="line"><span class="keyword">from</span> cj</span><br><span class="line"><span class="keyword">where</span> cj.课程号 <span class="keyword">in</span> (<span class="string">'A001'</span>,<span class="string">'A002'</span>,<span class="string">'J001'</span>,<span class="string">'J002'</span>)</span><br><span class="line"> </span><br><span class="line"><span class="comment">--25. 查询姓名为两个字的不同姓氏的人数，输出姓氏，人数。</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">left</span>(xs.姓名,<span class="number">1</span>) 姓氏,<span class="keyword">count</span>(<span class="keyword">left</span>(xs.姓名,<span class="number">1</span>)) 人数</span><br><span class="line"><span class="keyword">from</span> xs</span><br><span class="line"><span class="keyword">where</span> <span class="keyword">len</span>(xs.姓名) = <span class="number">2</span></span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> <span class="keyword">left</span>(xs.姓名,<span class="number">1</span>)</span><br><span class="line"> </span><br><span class="line"><span class="comment">--二：对书上第二章课后习题的4的SPJ数据库各表查询： </span></span><br><span class="line"><span class="comment">--1.求供应工程J1零件的供应商号码SNO</span></span><br><span class="line"><span class="keyword">select</span> SPJ.sno</span><br><span class="line"><span class="keyword">from</span> SPJ</span><br><span class="line"><span class="keyword">where</span> SPJ.jno=<span class="string">'J1'</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">--2.求查询每个工程使用不同供应商的零件的个数</span></span><br><span class="line"><span class="keyword">select</span> SPJ.jno,SPJ.pno,<span class="keyword">sum</span>(SPJ.qty) 个数</span><br><span class="line"><span class="keyword">from</span> SPJ</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> SPJ.jno,SPJ.pno</span><br><span class="line"> </span><br><span class="line"><span class="comment">--3.求供应工程使用零件P3数量超过200的工程号JNO</span></span><br><span class="line"><span class="keyword">select</span> SPJ.jno</span><br><span class="line"><span class="keyword">from</span> SPJ</span><br><span class="line"><span class="keyword">where</span> SPJ.pno = <span class="string">'P3'</span> <span class="keyword">and</span> SPJ.qit &gt; <span class="number">200</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">--4.求颜色为红色和蓝色的零件的零件号和名称</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">distinct</span> pno, pname</span><br><span class="line"><span class="keyword">from</span> p</span><br><span class="line"><span class="keyword">where</span> color <span class="keyword">in</span> (<span class="string">'蓝'</span>,<span class="string">'红'</span>)</span><br><span class="line"> </span><br><span class="line"><span class="comment">--5.求使用零件数量在200-400之间的工程号</span></span><br><span class="line"><span class="keyword">select</span> SPJ.jno</span><br><span class="line"><span class="keyword">from</span> SPJ</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> SPJ.jno</span><br><span class="line"><span class="keyword">having</span> <span class="keyword">sum</span>(SPJ.qty) <span class="keyword">between</span> <span class="number">200</span> <span class="keyword">and</span> <span class="number">400</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">--6.查询每种零件的零件号，以及使用该零件的工程数。</span></span><br><span class="line"><span class="keyword">select</span> SPJ.pno,<span class="keyword">count</span>(<span class="keyword">DISTINCT</span> SPJ.jno) 工程数</span><br><span class="line"><span class="keyword">from</span> SPJ</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> SPJ.pno</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Data Base Management System </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Data Base </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>数据结构实验二</title>
      <link href="/2019/09/23/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%AE%9E%E9%AA%8C%E4%BA%8C/"/>
      <url>/2019/09/23/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%AE%9E%E9%AA%8C%E4%BA%8C/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h1><h2 id="1-第一次实验的顺序实现"><a href="#1-第一次实验的顺序实现" class="headerlink" title="1.第一次实验的顺序实现"></a>1.第一次实验的顺序实现</h2><h2 id="2-顺序栈的实现"><a href="#2-顺序栈的实现" class="headerlink" title="2.顺序栈的实现"></a>2.顺序栈的实现</h2><h2 id="3-N个元素的序列的所有出栈可能"><a href="#3-N个元素的序列的所有出栈可能" class="headerlink" title="3.N个元素的序列的所有出栈可能"></a>3.N个元素的序列的所有出栈可能</h2><h2 id="1-第一次实验"><a href="#1-第一次实验" class="headerlink" title="1.第一次实验"></a>1.第一次实验</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> LIST_INIT_SIZE 100</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span>LISTINCREMENT 10</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ElemType int </span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> &#123;</span></span><br><span class="line">ElemType *elem;</span><br><span class="line"><span class="keyword">int</span> length;</span><br><span class="line"><span class="keyword">int</span> listsize;</span><br><span class="line">&#125;SqList;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">InitList_Sq</span><span class="params">(SqList &amp;L)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">L.elem = (ElemType*)<span class="built_in">malloc</span>(LIST_INIT_SIZE * <span class="keyword">sizeof</span>(ElemType));</span><br><span class="line">L.length = <span class="number">0</span>;</span><br><span class="line">L.listsize = LIST_INIT_SIZE;</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">InputList_Sq</span><span class="params">(SqList &amp;L)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">ElemType n, temp;</span><br><span class="line">ElemType *p, *q;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"请输入集合的元素个数：\n"</span>);</span><br><span class="line"><span class="built_in">cin</span> &gt;&gt; n;</span><br><span class="line"><span class="keyword">if</span> (n &lt; <span class="number">1</span> || n &gt; L.listsize) &#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"输入有误\n"</span>);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (L.length + n &gt;= L.listsize) &#123;</span><br><span class="line">L.elem = (ElemType*)<span class="built_in">realloc</span>(L.elem, (L.length + n - L.listsize + LISTINCREMENT) * <span class="keyword">sizeof</span>(ElemType));</span><br><span class="line">L.listsize += (L.length + n - L.listsize + LISTINCREMENT);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"请输入元素："</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line"><span class="built_in">cin</span> &gt;&gt; temp;</span><br><span class="line">q = &amp;(L.elem[i]);</span><br><span class="line">*q = temp;</span><br><span class="line">++L.length;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">MergeList_Sq</span><span class="params">(SqList La, SqList Lb, SqList &amp;Lc)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">ElemType *pa, *pb, *pc, *pa_last, *pb_last;</span><br><span class="line">pa = La.elem;</span><br><span class="line">pb = Lb.elem;</span><br><span class="line">Lc.listsize = Lc.length = La.length + Lb.length;</span><br><span class="line">pc = Lc.elem = (ElemType*)<span class="built_in">malloc</span>(Lc.listsize * <span class="keyword">sizeof</span>(ElemType));</span><br><span class="line">pa_last = La.elem + La.length - <span class="number">1</span>;</span><br><span class="line">pb_last = Lb.elem + Lb.length - <span class="number">1</span>;</span><br><span class="line"><span class="keyword">while</span> (pa &lt;= pa_last &amp;&amp; pb &lt;= pb_last) &#123;</span><br><span class="line"><span class="keyword">if</span> (*pa &lt; *pb)</span><br><span class="line">*pc++ = *pa++;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">*pc++ = *pb++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">while</span> (pa &lt;= pa_last)*pc++ = *pa++;</span><br><span class="line"><span class="keyword">while</span> (pb &lt;= pb_last)*pc++ = *pb++;</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Show_Sq</span><span class="params">(SqList L, <span class="keyword">char</span> name)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> cnt = <span class="number">0</span>;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"集合%c中的元素为："</span>,name);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; L.length; i++) &#123;</span><br><span class="line"><span class="keyword">if</span> (L.elem[i] != L.elem[i + <span class="number">1</span>]) &#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; L.elem[i] &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">cnt++;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"去重后的元素个数为：%d\n"</span>, cnt);</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">SqList La, Lb, Lc;</span><br><span class="line">InitList_Sq(La);</span><br><span class="line">InitList_Sq(Lb);</span><br><span class="line">InitList_Sq(Lc);</span><br><span class="line">InputList_Sq(La); </span><br><span class="line">InputList_Sq(Lb);</span><br><span class="line">sort(La.elem, La.elem + La.length);</span><br><span class="line">sort(Lb.elem, Lb.elem + Lb.length);</span><br><span class="line">Show_Sq(La,<span class="string">'A'</span>);</span><br><span class="line">Show_Sq(Lb,<span class="string">'B'</span>);</span><br><span class="line">MergeList_Sq(La, Lb, Lc);</span><br><span class="line">Show_Sq(Lc,<span class="string">'C'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="2-顺序栈的实现-1"><a href="#2-顺序栈的实现-1" class="headerlink" title="2.顺序栈的实现"></a>2.顺序栈的实现</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> STACK_INIT_SIZE 100</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> STACKINCREMENT 10</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> SElemType int</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> &#123;</span></span><br><span class="line">SElemType *base;</span><br><span class="line">SElemType *top;</span><br><span class="line"><span class="keyword">int</span> stacksize;</span><br><span class="line">&#125;SqStack;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">InitStack</span><span class="params">(SqStack &amp;S)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">S.base = (SElemType*)<span class="built_in">malloc</span>(STACK_INIT_SIZE * <span class="keyword">sizeof</span>(SElemType));</span><br><span class="line">S.top = S.base;</span><br><span class="line">S.stacksize = STACK_INIT_SIZE;</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">GetTop</span><span class="params">(SqStack S, SElemType &amp;e)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span> (S.top == S.base)</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">e = *(S.top - <span class="number">1</span>);</span><br><span class="line"><span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Push</span><span class="params">(SqStack &amp;S, SElemType &amp;e)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span> (S.top - S.base &gt;= S.stacksize) &#123;</span><br><span class="line">S.base = (SElemType*)<span class="built_in">realloc</span>(S.base, (S.stacksize + STACKINCREMENT) * <span class="keyword">sizeof</span>(SElemType));</span><br><span class="line">S.top = S.base + S.stacksize;</span><br><span class="line">S.stacksize += STACKINCREMENT;</span><br><span class="line">&#125;</span><br><span class="line">*S.top++ = e;</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Pop</span><span class="params">(SqStack &amp;S, SElemType &amp;e)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span> (S.top == S.base)</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">e = *--S.top;</span><br><span class="line"><span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Show</span><span class="params">(SqStack S)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"栈中现有元素为： |"</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">auto</span> it = S.base; it &lt; S.top; it++)</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; *it &lt;&lt; <span class="string">" "</span>;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> p;</span><br><span class="line">SElemType x;</span><br><span class="line">SqStack S;</span><br><span class="line">InitStack(S);</span><br><span class="line"><span class="keyword">while</span> (<span class="number">1</span>) &#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"请选择您要进行的操作(1代表Push 2代表Pop 0代表退出) ："</span>);</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;p);</span><br><span class="line"><span class="keyword">if</span> (p == <span class="number">1</span>) &#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"请输入要压入栈中的元素："</span>);</span><br><span class="line"><span class="built_in">cin</span> &gt;&gt; x;</span><br><span class="line">Push(S, x);</span><br><span class="line">Show(S);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (p == <span class="number">2</span>) &#123;</span><br><span class="line">SElemType e = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">if</span> (Pop(S, e)) &#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"出栈元素为："</span>);</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; e &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">Show(S);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"栈中没有元素\n"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">Show(S);</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="3-所有出栈可能"><a href="#3-所有出栈可能" class="headerlink" title="3.所有出栈可能"></a>3.所有出栈可能</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> total, res, sta, n;</span><br><span class="line"><span class="keyword">int</span> r[<span class="number">2005</span>], s[<span class="number">2005</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> m)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (m == n + <span class="number">1</span>) &#123;<span class="comment">//若所有元素都入过栈，输出当前出栈序列</span></span><br><span class="line">total++;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= res; i++)</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; r[i] &lt;&lt; <span class="string">' '</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = sta; i &gt; <span class="number">0</span>; i--)</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; s[i] &lt;&lt; <span class="string">' '</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (sta &gt; <span class="number">0</span>) &#123;</span><br><span class="line">r[++res] = s[sta];</span><br><span class="line">sta--;</span><br><span class="line">dfs(m);<span class="comment">//栈顶元素出栈</span></span><br><span class="line">s[++sta] = r[res];</span><br><span class="line">res--;<span class="comment">//回溯操作</span></span><br><span class="line">&#125;</span><br><span class="line">s[++sta] = m;<span class="comment">//当前元素入栈</span></span><br><span class="line">dfs(m + <span class="number">1</span>);</span><br><span class="line">sta--;<span class="comment">//回溯操作</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"请输入元素个数："</span>);</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</span><br><span class="line">total = <span class="number">0</span>; res = <span class="number">0</span>; sta = <span class="number">0</span>;</span><br><span class="line">dfs(<span class="number">1</span>);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"共有%d种情况"</span>, total);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="运行界面"><a href="#运行界面" class="headerlink" title="运行界面"></a>运行界面</h2><p><img alt="sy" data-src="https://s2.ax1x.com/2019/11/04/KzaicR.png" class="lazyload"></p><h3 id="顺序栈的实现"><a href="#顺序栈的实现" class="headerlink" title="顺序栈的实现"></a>顺序栈的实现</h3><p><img alt="sy" data-src="https://s2.ax1x.com/2019/11/04/KzaaCQ.png" class="lazyload"></p><h3 id="所有出栈可能"><a href="#所有出栈可能" class="headerlink" title="所有出栈可能"></a>所有出栈可能</h3><p><img alt="sy" data-src="https://s2.ax1x.com/2019/11/04/KzahvR.png" class="lazyload"></p>]]></content>
      
      
      <categories>
          
          <category> Algorithms and Data Structures </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Data Structure Experiment </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>数据结构实验一</title>
      <link href="/2019/09/23/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%AE%9E%E9%AA%8C%E4%B8%80/"/>
      <url>/2019/09/23/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%AE%9E%E9%AA%8C%E4%B8%80/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h1><h2 id="1-算法2-1"><a href="#1-算法2-1" class="headerlink" title="1.算法2.1"></a>1.算法2.1</h2><h2 id="2-分别用链式和顺序表实现"><a href="#2-分别用链式和顺序表实现" class="headerlink" title="2.分别用链式和顺序表实现"></a>2.分别用链式和顺序表实现</h2><h2 id="3-所涉及的基本操作全部用函数实现"><a href="#3-所涉及的基本操作全部用函数实现" class="headerlink" title="3.所涉及的基本操作全部用函数实现"></a>3.所涉及的基本操作全部用函数实现</h2><h2 id="链式存储"><a href="#链式存储" class="headerlink" title="链式存储"></a>链式存储</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt; </span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt; </span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">LNode</span> &#123;</span></span><br><span class="line"><span class="keyword">int</span> data;</span><br><span class="line">LNode *next;</span><br><span class="line">&#125;LNode,*LinkList;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">List_initialize</span><span class="params">(LinkList &amp;L, <span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">LNode* p;</span><br><span class="line">L = (LNode*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(LNode));</span><br><span class="line">L-&gt;next = <span class="literal">NULL</span>; </span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i)&#123;</span><br><span class="line">p = (LNode *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(LNode));</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;p-&gt;data); </span><br><span class="line">p-&gt;next = L-&gt;next; </span><br><span class="line">L-&gt;next = p;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">compare</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span> (a == b)</span><br><span class="line"><span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">List_show</span><span class="params">(LNode *head)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">LNode *p = head-&gt;next;</span><br><span class="line"><span class="keyword">while</span> (p != <span class="literal">NULL</span>)&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d "</span>,p-&gt;data);</span><br><span class="line">p = p-&gt;next;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">GetElem</span><span class="params">(LNode *L, <span class="keyword">int</span> pos)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">LNode *p = L-&gt;next;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; pos - <span class="number">1</span>; i++)</span><br><span class="line">p = p-&gt;next;</span><br><span class="line"><span class="keyword">return</span> p-&gt;data;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Listlen</span><span class="params">(LNode *head)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">LNode *p = head-&gt;next;</span><br><span class="line"><span class="keyword">int</span> len = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span> (p)&#123;</span><br><span class="line">len++;</span><br><span class="line">p = p-&gt;next;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> len;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">List_insert</span><span class="params">(LinkList &amp;L, <span class="keyword">int</span> i, <span class="keyword">int</span> e)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span> (i &lt; <span class="number">1</span>)</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">LNode *p = L;</span><br><span class="line">LNode *s;</span><br><span class="line"><span class="keyword">int</span> j = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span> (p &amp;&amp; j &lt; i - <span class="number">1</span>) &#123;</span><br><span class="line">p = p-&gt;next;</span><br><span class="line">++j;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (!p)</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">s = (LNode *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(LNode));</span><br><span class="line">s-&gt;data = e;</span><br><span class="line">s-&gt;next = p-&gt;next;</span><br><span class="line">p-&gt;next = s;</span><br><span class="line"><span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">LNode* <span class="title">List_only</span><span class="params">(LNode *head)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">LNode *p, *q, *s;</span><br><span class="line">p = head-&gt;next;</span><br><span class="line"><span class="keyword">while</span> (p-&gt;next != <span class="literal">NULL</span>)&#123;</span><br><span class="line">q = p;</span><br><span class="line"><span class="keyword">while</span> (q-&gt;next != <span class="literal">NULL</span>)&#123;</span><br><span class="line"><span class="keyword">if</span> (q-&gt;next-&gt;data == p-&gt;data)&#123;</span><br><span class="line">s = q-&gt;next;</span><br><span class="line">q-&gt;next = s-&gt;next;</span><br><span class="line"><span class="built_in">free</span>(s);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">q = q-&gt;next;</span><br><span class="line">&#125;</span><br><span class="line">p = p-&gt;next;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> head;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">List_union</span><span class="params">(LinkList &amp;L1, LinkList L2)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">LinkList p, q, s;</span><br><span class="line">p = L1;</span><br><span class="line">q = L2;</span><br><span class="line"><span class="keyword">while</span> (p-&gt;next != <span class="literal">NULL</span>) &#123;</span><br><span class="line"><span class="keyword">while</span> (q-&gt;next != <span class="literal">NULL</span>) &#123;</span><br><span class="line"><span class="keyword">if</span> (p-&gt;next-&gt;data == q-&gt;next-&gt;data)</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">q = q-&gt;next;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (q-&gt;next == <span class="literal">NULL</span>) &#123;</span><br><span class="line">s = (LinkList)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(LNode));</span><br><span class="line">s-&gt;data = p-&gt;next-&gt;data;</span><br><span class="line">s-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">q-&gt;next = s;</span><br><span class="line">&#125;</span><br><span class="line">p = p-&gt;next;</span><br><span class="line">q = L2;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> lena, lenb;</span><br><span class="line">LinkList la, lb;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"请输入集合A的元素个数："</span>);</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;lena);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"请输入集合A元素："</span>);</span><br><span class="line">List_initialize(la, lena);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"原集合A："</span>);</span><br><span class="line">List_show(la);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">List_only(la);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"集合去重后个数："</span>);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d"</span>,Listlen(la));</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"删除重复元素后的集合A为："</span>);</span><br><span class="line">List_show(la);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"请输入集合B的元素个数："</span>);</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;lenb);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"请输入集合B元素："</span>);</span><br><span class="line">List_initialize(lb, lenb);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"集合B："</span>);</span><br><span class="line">List_show(lb);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">List_only(lb);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"集合去重后个数："</span>);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d"</span>, Listlen(lb));</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"删除重复元素后的集合B为："</span>);</span><br><span class="line">List_show(lb);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"A和B的并集为："</span>);</span><br><span class="line">List_union(la, lb);</span><br><span class="line">List_only(la);</span><br><span class="line">List_show(la);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="运行界面"><a href="#运行界面" class="headerlink" title="运行界面"></a>运行界面</h3><p><img alt="sy" data-src="https://s2.ax1x.com/2019/11/04/Kzazrt.png" class="lazyload"></p><h2 id="顺序表存储"><a href="#顺序表存储" class="headerlink" title="顺序表存储"></a>顺序表存储</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> a[<span class="number">10000</span>], b[<span class="number">10000</span>];</span><br><span class="line"><span class="keyword">int</span> lena, lenb;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">arrayA_initialize</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">//输入集合A</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"请输入集合元素个数(小于10000)："</span>);</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;lena);</span><br><span class="line"><span class="keyword">while</span> (lena &gt;= <span class="number">10000</span>) &#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"超出最大容量\n"</span>);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"请重新输入\n"</span>);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"请输入集合A元素个数(小于10000)："</span>);</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;lena);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"请输入集合A元素："</span>);</span><br><span class="line"><span class="keyword">int</span> temp, cnta = <span class="number">1</span>;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;a[<span class="number">0</span>]);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; lena; i++) &#123;</span><br><span class="line"><span class="keyword">int</span> flag = <span class="number">1</span>;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;temp);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; i; j++) &#123;<span class="comment">//去重</span></span><br><span class="line"><span class="keyword">if</span> (temp == a[j])</span><br><span class="line">flag = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (flag) &#123;</span><br><span class="line">a[cnta] = temp;</span><br><span class="line">cnta++;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">lena = cnta;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"数组A的长度最终为： %d\n"</span>, lena);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"去重后的数组A为 ：\n"</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; lena; i++)</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d "</span>, a[i]);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">arrayB_initialize</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">//输入集合B</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"请输入集合B元素个数(小于10000)："</span>);</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;lenb);</span><br><span class="line"><span class="keyword">while</span> (lenb &gt;= <span class="number">10000</span>) &#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"超出最大容量\n"</span>);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"请重新输入\n"</span>);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"请输入集合B元素个数(小于10000)："</span>);</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;lenb);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"请输入集合B元素："</span>);</span><br><span class="line"><span class="keyword">int</span> temp, cntb = <span class="number">1</span>;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;b[<span class="number">0</span>]);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; lenb; i++) &#123;</span><br><span class="line"><span class="keyword">int</span> flag = <span class="number">1</span>;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;temp);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; i; j++) &#123;<span class="comment">//去重</span></span><br><span class="line"><span class="keyword">if</span> (temp == b[j])</span><br><span class="line">flag = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (flag) &#123;</span><br><span class="line">b[cntb] = temp;</span><br><span class="line">cntb++;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">lenb = cntb;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"数组B的长度最终为： %d\n"</span>, lenb);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"去重后的数组B为 ：\n"</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; lenb; i++)</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d "</span>, b[i]);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">binarySearch</span><span class="params">(<span class="keyword">int</span> a[], <span class="keyword">int</span> b, <span class="keyword">int</span> lena)</span> </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> left = <span class="number">0</span>, right = lena - <span class="number">1</span>, mid;</span><br><span class="line"><span class="keyword">while</span> (left &lt;= right)&#123;</span><br><span class="line">mid = (right + left) / <span class="number">2</span>;</span><br><span class="line"><span class="keyword">if</span> (a[mid] == b)</span><br><span class="line"><span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (a[mid] &gt; b)&#123;</span><br><span class="line">right = mid - <span class="number">1</span>; </span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">left = mid + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">-1</span>; </span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">array_insert</span><span class="params">(<span class="keyword">int</span> a[], <span class="keyword">int</span> lena, <span class="keyword">int</span> b[], <span class="keyword">int</span> lenb)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">//将所有在数组B中但不在A中的数据元素插入到A中</span></span><br><span class="line"><span class="keyword">int</span> cnt = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; lenb; i++) &#123;</span><br><span class="line"><span class="keyword">if</span> (binarySearch(a, b[i], lena) == <span class="number">-1</span>) &#123;</span><br><span class="line">a[lena + cnt] = b[i];</span><br><span class="line">cnt++;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">lena += cnt;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"A与B合并后的集合为：\n"</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; lena; i++) &#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d "</span>, a[i]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">arrayA_initialize();</span><br><span class="line">arrayB_initialize();</span><br><span class="line">array_insert(a, lena, b, lenb);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="运行界面-1"><a href="#运行界面-1" class="headerlink" title="运行界面"></a>运行界面</h3><p><img alt="sy" data-src="https://s2.ax1x.com/2019/11/04/KzdZMn.png" class="lazyload"></p>]]></content>
      
      
      <categories>
          
          <category> Algorithms and Data Structures </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Data Structure Experiment </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
